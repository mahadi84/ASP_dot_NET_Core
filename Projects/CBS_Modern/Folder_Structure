

# рж╕ржорзНржкрзВрж░рзНржг ржкрзНрж░ржЬрзЗржХрзНржЯ ржлрзЛрж▓рзНржбрж╛рж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░

## ЁЯУБ CBS_MultiBranch (Root Solution)

```
CBS_MultiBranch/
тФЬтФАтФА ЁЯУБ CBS_MultiBranch.Domain/           # Domain Layer (ржмрзНржпржмрж╕рж╛ржпрж╝рж┐ржХ рж▓ржЬрж┐ржХ)
тФЬтФАтФА ЁЯУБ CBS_MultiBranch.Application/      # Application Layer (Use Cases)
тФЬтФАтФА ЁЯУБ CBS_MultiBranch.Infrastructure/   # Infrastructure Layer (ржбрж╛ржЯрж╛ржмрзЗрж╕ ржПржХрзНрж╕рзЗрж╕)
тФЬтФАтФА ЁЯУБ CBS_MultiBranch.Web/             # Presentation Layer (UI)
тФЬтФАтФА ЁЯУД CBS_MultiBranch.sln              # Solution File
тФФтФАтФА ЁЯУД README.md                        # Project Documentation
```

## ЁЯУБ рзз. Domain Layer (рж╣рж╛рж░рзНржЯ ржЕржл ржжрзНржп рж╕рж┐рж╕рзНржЯрзЗржо)

```
CBS_MultiBranch.Domain/
тФЬтФАтФА ЁЯУБ Entities/                         # ржбрзЗржЯрж╛ржмрзЗрж╕ ржЯрзЗржмрж┐рж▓рзЗрж░ рж░рж┐ржкрзНрж░рзЗржЬрзЗржирзНржЯрзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУД Branch.cs                    # рж╢рж╛ржЦрж╛ рждржерзНржп
тФВ   тФЬтФАтФА ЁЯУД User.cs                      # ржЗржЙржЬрж╛рж░ рждржерзНржп
тФВ   тФЬтФАтФА ЁЯУД Customer.cs                  # ржЧрзНрж░рж╛рж╣ржХ рждржерзНржп
тФВ   тФЬтФАтФА ЁЯУД Account.cs                   # ржПржХрж╛ржЙржирзНржЯ рждржерзНржп
тФВ   тФЬтФАтФА ЁЯУД Transaction.cs               # рж▓рзЗржиржжрзЗржи рждржерзНржп
тФВ   тФЬтФАтФА ЁЯУД CashDrawer.cs                # ржХрзНржпрж╛рж╢ ржбрзНрж░ржпрж╝рж╛рж░ рждржерзНржп
тФВ   тФЬтФАтФА ЁЯУД GLHead.cs                    # GL рж╣рзЗржб рждржерзНржп
тФВ   тФЬтФАтФА ЁЯУД SubLedgerEntry.cs            # рж╕рж╛ржм-рж▓рзЗржЬрж╛рж░ ржПржирзНржЯрзНрж░рж┐
тФВ   тФЬтФАтФА ЁЯУД GLJournal.cs                 # ржЬрзЗржирж╛рж░рзЗрж▓ рж▓рзЗржЬрж╛рж░ ржЬрж╛рж░рзНржирж╛рж▓
тФВ   тФЬтФАтФА ЁЯУД GLJournalLine.cs             # ржЬрж╛рж░рзНржирж╛рж▓ рж▓рж╛ржЗржи
тФВ   тФЬтФАтФА ЁЯУД ReconciliationLog.cs         # рж░рж┐ржХржирж╕рж┐рж▓рж┐ржпрж╝рзЗрж╢ржи рж▓ржЧ
тФВ   тФЬтФАтФА ЁЯУД AuditLog.cs                  # ржЕржбрж┐ржЯ рж▓ржЧ
тФВ   тФФтФАтФА ЁЯУД SystemControl.cs             # рж╕рж┐рж╕рзНржЯрзЗржо ржХржирзНржЯрзНрж░рзЛрж▓
тФВ
тФЬтФАтФА ЁЯУБ ValueObjects/                    # ржорж╛ржи ржЕржмржЬрзЗржХрзНржЯ (рж░рж┐ржХрж┐ржЙрзЯрж╛рж░рзНржб ржбрж╛ржЯрж╛)
тФВ   тФЬтФАтФА ЁЯУД Result.cs                    # ржЧрзНрж▓рзЛржмрж╛рж▓ рж░рзЗржЬрж╛рж▓рзНржЯ ржкрзНржпрж╛ржЯрж╛рж░рзНржи
тФВ   тФЬтФАтФА ЁЯУД ValidationRules.cs           # ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи рж░рзБрж▓рж╕
тФВ   тФФтФАтФА ЁЯУД AccountNumberGenerator.cs    # ржПржХрж╛ржЙржирзНржЯ ржирж╛ржорзНржмрж╛рж░ ржЬрзЗржирж╛рж░рзЗржЯрж░
тФВ
тФЬтФАтФА ЁЯУБ Events/                          # ржбрзЛржорзЗржЗржи ржЗржнрзЗржирзНржЯрж╕
тФВ   тФЬтФАтФА ЁЯУД DomainEvent.cs               # ржмрзЗрж╕ ржбрзЛржорзЗржЗржи ржЗржнрзЗржирзНржЯ
тФВ   тФЬтФАтФА ЁЯУД TransactionEvents.cs         # рж▓рзЗржиржжрзЗржи ржЗржнрзЗржирзНржЯрж╕
тФВ   тФЬтФАтФА ЁЯУД CustomerEvents.cs            # ржЧрзНрж░рж╛рж╣ржХ ржЗржнрзЗржирзНржЯрж╕
тФВ   тФФтФАтФА ЁЯУД GLPostingEvents.cs          # GL ржкрзЛрж╕рзНржЯрж┐ржВ ржЗржнрзЗржирзНржЯрж╕
тФВ
тФЬтФАтФА ЁЯУБ Interfaces/                      # рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕
тФВ   тФЬтФАтФА ЁЯУД IUnitOfWork.cs              # ржЗржЙржирж┐ржЯ ржЕржл ржУржпрж╝рж╛рж░рзНржХ
тФВ   тФЬтФАтФА ЁЯУД ITransactionRepository.cs   # рж▓рзЗржиржжрзЗржи рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐
тФВ   тФЬтФАтФА ЁЯУД ICustomerRepository.cs      # ржЧрзНрж░рж╛рж╣ржХ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐
тФВ   тФЬтФАтФА ЁЯУД IAccountRepository.cs       # ржПржХрж╛ржЙржирзНржЯ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐
тФВ   тФЬтФАтФА ЁЯУД IUserRepository.cs          # ржЗржЙржЬрж╛рж░ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐
тФВ   тФЬтФАтФА ЁЯУД IGLHeadRepository.cs        # GL рж╣рзЗржб рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐
тФВ   тФЬтФАтФА ЁЯУД ICashDrawerRepository.cs    # ржХрзНржпрж╛рж╢ ржбрзНрж░ржпрж╝рж╛рж░ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐
тФВ   тФЬтФАтФА ЁЯУД ISubLedgerRepository.cs     # рж╕рж╛ржм-рж▓рзЗржЬрж╛рж░ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐
тФВ   тФЬтФАтФА ЁЯУД IGLJournalRepository.cs     # GL ржЬрж╛рж░рзНржирж╛рж▓ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐
тФВ   тФФтФАтФА ЁЯУД IAuditLogRepository.cs      # ржЕржбрж┐ржЯ рж▓ржЧ рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐
тФВ
тФЬтФАтФА ЁЯУБ Services/                        # ржбрзЛржорзЗржЗржи рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж╕
тФВ   тФЬтФАтФА ЁЯУД ITransactionService.cs      # рж▓рзЗржиржжрзЗржи рж╕рж╛рж░рзНржнрж┐рж╕
тФВ   тФЬтФАтФА ЁЯУД IGLPostingService.cs        # GL ржкрзЛрж╕рзНржЯрж┐ржВ рж╕рж╛рж░рзНржнрж┐рж╕
тФВ   тФФтФАтФА ЁЯУД IReportService.cs           # рж░рж┐ржкрзЛрж░рзНржЯ рж╕рж╛рж░рзНржнрж┐рж╕
тФВ
тФЬтФАтФА ЁЯУД CBS_MultiBranch.Domain.csproj   # Domain ржкрзНрж░ржЬрзЗржХрзНржЯ ржлрж╛ржЗрж▓
тФФтФАтФА ЁЯУД README.md                        # Domain рж▓рзЗрзЯрж╛рж░ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи
```

### **Domain Layer ржПрж░ ржХрж╛ржЬ:**
- **Entities**: ржбрж╛ржЯрж╛ржмрзЗрж╕ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕рж┐# ржХрзНрж▓рж╛рж╕
- **Value Objects**: ржмрзНржпржмрж╕рж╛ржпрж╝рж┐ржХ ржирж┐ржпрж╝ржо ржПржмржВ ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи
- **Events**: рж╕рж┐рж╕рзНржЯрзЗржо ржЗржнрзЗржирзНржЯ ржЯрзНрж░рзНржпрж╛ржХрж┐ржВ
- **Interfaces**: ржбрж╛ржЯрж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕рзЗрж░ ржХржирзНржЯрзНрж░рзНржпрж╛ржХрзНржЯ
- **Services**: ржЬржЯрж┐рж▓ ржмрзНржпржмрж╕рж╛ржпрж╝рж┐ржХ рж▓ржЬрж┐ржХ

## ЁЯУБ рзи. Application Layer (ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ)

```
CBS_MultiBranch.Application/
тФЬтФАтФА ЁЯУБ DTOs/                           # ржбрж╛ржЯрж╛ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░ ржЕржмржЬрзЗржХрзНржЯрж╕
тФВ   тФЬтФАтФА ЁЯУБ Customers/
тФВ   тФВ   тФЬтФАтФА ЁЯУД CreateCustomerRequest.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД UpdateCustomerRequest.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД CustomerResponse.cs
тФВ   тФВ   тФФтФАтФА ЁЯУД CustomerApprovalResponse.cs
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Transactions/
тФВ   тФВ   тФЬтФАтФА ЁЯУД DepositRequest.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД WithdrawalRequest.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД ApproveTransactionRequest.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД RejectTransactionRequest.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД TransactionResponse.cs
тФВ   тФВ   тФФтФАтФА ЁЯУД TransactionApprovalResponse.cs
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ GL/
тФВ   тФВ   тФЬтФАтФА ЁЯУД GLPostingRequest.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД GLPostingResponse.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД ReconciliationRequest.cs
тФВ   тФВ   тФФтФАтФА ЁЯУД ReconciliationResponse.cs
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Reports/
тФВ   тФВ   тФЬтФАтФА ЁЯУД StatementRequest.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД StatementResponse.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД TrialBalanceRequest.cs
тФВ   тФВ   тФФтФАтФА ЁЯУД TrialBalanceResponse.cs
тФВ   тФВ
тФВ   тФФтФАтФА ЁЯУБ Auth/
тФВ       тФЬтФАтФА ЁЯУД LoginRequest.cs
тФВ       тФЬтФАтФА ЁЯУД LoginResponse.cs
тФВ       тФЬтФАтФА ЁЯУД CreateUserRequest.cs
тФВ       тФФтФАтФА ЁЯУД UpdateUserRequest.cs
тФВ
тФЬтФАтФА ЁЯУБ Features/                       # CQRS ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУБ Customers/
тФВ   тФВ   тФЬтФАтФА ЁЯУБ Commands/
тФВ   тФВ   тФВ   тФЬтФАтФА ЁЯУД CreateCustomerCommand.cs
тФВ   тФВ   тФВ   тФЬтФАтФА ЁЯУД ApproveCustomerCommand.cs
тФВ   тФВ   тФВ   тФФтФАтФА ЁЯУД RejectCustomerCommand.cs
тФВ   тФВ   тФВ
тФВ   тФВ   тФФтФАтФА ЁЯУБ Queries/
тФВ   тФВ       тФЬтФАтФА ЁЯУД GetPendingCustomersQuery.cs
тФВ   тФВ       тФФтФАтФА ЁЯУД GetCustomerByAccountNumberQuery.cs
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Transactions/
тФВ   тФВ   тФЬтФАтФА ЁЯУБ Commands/
тФВ   тФВ   тФВ   тФЬтФАтФА ЁЯУД DepositCommand.cs
тФВ   тФВ   тФВ   тФЬтФАтФА ЁЯУД WithdrawCommand.cs
тФВ   тФВ   тФВ   тФЬтФАтФА ЁЯУД ApproveTransactionCommand.cs
тФВ   тФВ   тФВ   тФФтФАтФА ЁЯУД RejectTransactionCommand.cs
тФВ   тФВ   тФВ
тФВ   тФВ   тФФтФАтФА ЁЯУБ Queries/
тФВ   тФВ       тФЬтФАтФА ЁЯУД GetPendingTransactionsQuery.cs
тФВ   тФВ       тФФтФАтФА ЁЯУД GetApprovedTransactionsQuery.cs
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ GL/
тФВ   тФВ   тФФтФАтФА ЁЯУБ Commands/
тФВ   тФВ       тФЬтФАтФА ЁЯУД PostGLCommand.cs
тФВ   тФВ       тФФтФАтФА ЁЯУД ReconcileBranchCommand.cs
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Reports/
тФВ   тФВ   тФФтФАтФА ЁЯУБ Queries/
тФВ   тФВ       тФЬтФАтФА ЁЯУД GetCustomerStatementQuery.cs
тФВ   тФВ       тФФтФАтФА ЁЯУД GetTrialBalanceQuery.cs
тФВ   тФВ
тФВ   тФФтФАтФА ЁЯУБ Auth/
тФВ       тФФтФАтФА ЁЯУБ Commands/
тФВ           тФЬтФАтФА ЁЯУД LoginCommand.cs
тФВ           тФЬтФАтФА ЁЯУД ChangePasswordCommand.cs
тФВ           тФФтФАтФА ЁЯУД ResetPasswordCommand.cs
тФВ
тФЬтФАтФА ЁЯУБ Validators/                     # FluentValidation ржнрзНржпрж╛рж▓рж┐ржбрзЗржЯрж░
тФВ   тФЬтФАтФА ЁЯУД CreateCustomerRequestValidator.cs
тФВ   тФЬтФАтФА ЁЯУД UpdateCustomerRequestValidator.cs
тФВ   тФЬтФАтФА ЁЯУД DepositRequestValidator.cs
тФВ   тФЬтФАтФА ЁЯУД WithdrawalRequestValidator.cs
тФВ   тФЬтФАтФА ЁЯУД ApproveTransactionRequestValidator.cs
тФВ   тФФтФАтФА ЁЯУД RejectTransactionRequestValidator.cs
тФВ
тФЬтФАтФА ЁЯУБ Mapping/                        # AutoMapper ржкрзНрж░рзЛржлрж╛ржЗрж▓рж╕
тФВ   тФЬтФАтФА ЁЯУД CustomerProfile.cs
тФВ   тФЬтФАтФА ЁЯУД TransactionProfile.cs
тФВ   тФФтФАтФА ЁЯУД AccountProfile.cs
тФВ
тФЬтФАтФА ЁЯУД DependencyInjection.cs          # DI ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
тФЬтФАтФА ЁЯУД ValidationBehavior.cs           # MediatR ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи ржмрж┐рж╣рзЗржнрж┐рзЯрж╛рж░
тФЬтФАтФА ЁЯУД LoggingBehavior.cs              # MediatR рж▓ржЧрж┐ржВ ржмрж┐рж╣рзЗржнрж┐рзЯрж╛рж░
тФЬтФАтФА ЁЯУД CBS_MultiBranch.Application.csproj
тФФтФАтФА ЁЯУД README.md
```

### **Application Layer ржПрж░ ржХрж╛ржЬ:**
- **DTOs**: UI ржПржмржВ Domain ржПрж░ ржоржзрзНржпрзЗ ржбрж╛ржЯрж╛ ржЖржжрж╛ржи-ржкрзНрж░ржжрж╛ржи
- **Features**: Use Cases (Commands ржПржмржВ Queries)
- **Validators**: Request ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи
- **Mapping**: Domain тЖТ DTO ржХржиржнрж╛рж░рзНрж╕ржи
- **Behaviors**: MediatR ржкрж╛ржЗржкрж▓рж╛ржЗржи (ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи, рж▓ржЧрж┐ржВ)

## ЁЯУБ рзй. Infrastructure Layer (ржбрж╛ржЯрж╛ржмрзЗрж╕ ржПржмржВ ржПржХрзНрж╕ржЯрж╛рж░рзНржирж╛рж▓ рж╕рж╛рж░рзНржнрж┐рж╕)

```
CBS_MultiBranch.Infrastructure/
тФЬтФАтФА ЁЯУБ Data/                           # ржбрж╛ржЯрж╛ржмрзЗрж╕ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУД ApplicationDbContext.cs     # Entity Framework DbContext
тФВ   тФЬтФАтФА ЁЯУД Configurations/             # Entity ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
тФВ   тФВ   тФЬтФАтФА ЁЯУД BranchConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД UserConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД CustomerConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД AccountConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД TransactionConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД CashDrawerConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД GLHeadConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД SubLedgerEntryConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД GLJournalConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД GLJournalLineConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД ReconciliationLogConfiguration.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД AuditLogConfiguration.cs
тФВ   тФВ   тФФтФАтФА ЁЯУД SystemControlConfiguration.cs
тФВ   тФВ
тФВ   тФФтФАтФА ЁЯУБ Migrations/                 # Entity Framework Migrations
тФВ       тФЬтФАтФА ЁЯУД 20241215000000_InitialCreate.cs
тФВ       тФЬтФАтФА ЁЯУД 20241215000000_InitialCreate.Designer.cs
тФВ       тФФтФАтФА ЁЯУД ApplicationDbContextModelSnapshot.cs
тФВ
тФЬтФАтФА ЁЯУБ Repositories/                   # Repository ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУД UnitOfWork.cs               # ржЗржЙржирж┐ржЯ ржЕржл ржУржпрж╝рж╛рж░рзНржХ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУД TransactionRepository.cs
тФВ   тФЬтФАтФА ЁЯУД CustomerRepository.cs
тФВ   тФЬтФАтФА ЁЯУД AccountRepository.cs
тФВ   тФЬтФАтФА ЁЯУД UserRepository.cs
тФВ   тФЬтФАтФА ЁЯУД GLHeadRepository.cs
тФВ   тФЬтФАтФА ЁЯУД CashDrawerRepository.cs
тФВ   тФЬтФАтФА ЁЯУД SubLedgerRepository.cs
тФВ   тФЬтФАтФА ЁЯУД GLJournalRepository.cs
тФВ   тФФтФАтФА ЁЯУД AuditLogRepository.cs
тФВ
тФЬтФАтФА ЁЯУБ Services/                       # Infrastructure рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж╕
тФВ   тФЬтФАтФА ЁЯУД TransactionService.cs       # рж▓рзЗржиржжрзЗржи рж╕рж╛рж░рзНржнрж┐рж╕ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУД GLPostingService.cs         # GL ржкрзЛрж╕рзНржЯрж┐ржВ рж╕рж╛рж░рзНржнрж┐рж╕ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУД ReportService.cs            # рж░рж┐ржкрзЛрж░рзНржЯ рж╕рж╛рж░рзНржнрж┐рж╕ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи
тФВ   тФФтФАтФА ЁЯУД EmailService.cs             # ржЗржорзЗржЗрж▓ рж╕рж╛рж░рзНржнрж┐рж╕ (ржРржЪрзНржЫрж┐ржХ)
тФВ
тФЬтФАтФА ЁЯУБ SeedData/                       # ржбрж╛ржЯрж╛ржмрзЗрж╕ seed ржбрж╛ржЯрж╛
тФВ   тФЬтФАтФА ЁЯУД SeedData.cs                 # ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓ ржбрж╛ржЯрж╛
тФВ   тФЬтФАтФА ЁЯУД BranchesSeed.cs             # рж╢рж╛ржЦрж╛ ржбрж╛ржЯрж╛
тФВ   тФЬтФАтФА ЁЯУД UsersSeed.cs                # ржЗржЙржЬрж╛рж░ ржбрж╛ржЯрж╛
тФВ   тФЬтФАтФА ЁЯУД GLHeadsSeed.cs              # GL рж╣рзЗржб ржбрж╛ржЯрж╛
тФВ   тФФтФАтФА ЁЯУД SystemControlsSeed.cs       # рж╕рж┐рж╕рзНржЯрзЗржо ржХржирзНржЯрзНрж░рзЛрж▓ ржбрж╛ржЯрж╛
тФВ
тФЬтФАтФА ЁЯУД DependencyInjection.cs          # Infrastructure DI ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
тФЬтФАтФА ЁЯУД CBS_MultiBranch.Infrastructure.csproj
тФФтФАтФА ЁЯУД README.md
```

### **Infrastructure Layer ржПрж░ ржХрж╛ржЬ:**
- **Data**: Entity Framework ржбрж╛ржЯрж╛ржмрзЗрж╕ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
- **Repositories**: ржбрж╛ржЯрж╛ржмрзЗрж╕ ржЕржкрж╛рж░рзЗрж╢ржи
- **Services**: Infrastructure рж╕рж╛рж░рзНржнрж┐рж╕ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи
- **SeedData**: ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓ ржбрж╛ржЯрж╛
- **Migrations**: ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛ ржЪрзЗржЮрзНржЬ

## ЁЯУБ рзк. Web/Presentation Layer (UI рж▓рзЗрзЯрж╛рж░)

```
CBS_MultiBranch.Web/
тФЬтФАтФА ЁЯУБ Controllers/                    # MVC Controllers
тФВ   тФЬтФАтФА ЁЯУД BaseController.cs           # ржмрзЗрж╕ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░
тФВ   тФЬтФАтФА ЁЯУД AccountController.cs        # ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░
тФВ   тФЬтФАтФА ЁЯУД CheckerController.cs        # ржЪрзЗржХрж╛рж░ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░
тФВ   тФЬтФАтФА ЁЯУД MakerController.cs          # ржорзЗржХрж╛рж░ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░
тФВ   тФЬтФАтФА ЁЯУД AdminController.cs          # ржЕрзНржпрж╛ржбржорж┐ржи ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░
тФВ   тФЬтФАтФА ЁЯУД AuditorController.cs        # ржЕржбрж┐ржЯрж░ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░
тФВ   тФФтФАтФА ЁЯУД HomeController.cs           # рж╣рзЛржо ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░
тФВ
тФЬтФАтФА ЁЯУБ Views/                          # Razor Views
тФВ   тФЬтФАтФА ЁЯУБ Shared/                     # рж╢рзЗржпрж╝рж╛рж░рзНржб Views
тФВ   тФВ   тФЬтФАтФА ЁЯУД _Layout.cshtml         # ржорзЗржЗржи рж▓рзЗржЖржЙржЯ
тФВ   тФВ   тФЬтФАтФА ЁЯУД _CheckerMenu.cshtml    # ржЪрзЗржХрж╛рж░ ржорзЗржирзБ
тФВ   тФВ   тФЬтФАтФА ЁЯУД _MakerMenu.cshtml      # ржорзЗржХрж╛рж░ ржорзЗржирзБ
тФВ   тФВ   тФЬтФАтФА ЁЯУД _AdminMenu.cshtml      # ржЕрзНржпрж╛ржбржорж┐ржи ржорзЗржирзБ
тФВ   тФВ   тФЬтФАтФА ЁЯУД _AuditorMenu.cshtml    # ржЕржбрж┐ржЯрж░ ржорзЗржирзБ
тФВ   тФВ   тФЬтФАтФА ЁЯУД _CheckerSidebar.cshtml # ржЪрзЗржХрж╛рж░ рж╕рж╛ржЗржбржмрж╛рж░
тФВ   тФВ   тФЬтФАтФА ЁЯУД _MakerSidebar.cshtml   # ржорзЗржХрж╛рж░ рж╕рж╛ржЗржбржмрж╛рж░
тФВ   тФВ   тФЬтФАтФА ЁЯУД _AdminSidebar.cshtml   # ржЕрзНржпрж╛ржбржорж┐ржи рж╕рж╛ржЗржбржмрж╛рж░
тФВ   тФВ   тФЬтФАтФА ЁЯУД _AuditorSidebar.cshtml # ржЕржбрж┐ржЯрж░ рж╕рж╛ржЗржбржмрж╛рж░
тФВ   тФВ   тФЬтФАтФА ЁЯУД _LoginPartial.cshtml   # рж▓ржЧржЗржи ржкрж╛рж░рзНрж╢рж┐ржпрж╝рж╛рж▓
тФВ   тФВ   тФФтФАтФА ЁЯУД Error.cshtml           # ржПрж░рж░ ржкрзЗржЬ
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Account/                    # ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ Views
тФВ   тФВ   тФЬтФАтФА ЁЯУД Login.cshtml           # рж▓ржЧржЗржи ржкрзЗржЬ
тФВ   тФВ   тФЬтФАтФА ЁЯУД ChangePassword.cshtml  # ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржЪрзЗржЮрзНржЬ
тФВ   тФВ   тФЬтФАтФА ЁЯУД AccessDenied.cshtml    # ржПржХрзНрж╕рзЗрж╕ ржбрж┐ржирж╛ржЗржб
тФВ   тФВ   тФФтФАтФА ЁЯУД LockedOut.cshtml       # рж▓ржХ ржЖржЙржЯ ржкрзЗржЬ
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Checker/                    # ржЪрзЗржХрж╛рж░ Views
тФВ   тФВ   тФЬтФАтФА ЁЯУД Dashboard.cshtml       # ржЪрзЗржХрж╛рж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб
тФВ   тФВ   тФЬтФАтФА ЁЯУД CreateCustomer.cshtml  # ржЧрзНрж░рж╛рж╣ржХ рждрзИрж░рж┐
тФВ   тФВ   тФЬтФАтФА ЁЯУД Deposit.cshtml         # ржбрж┐ржкрзЛржЬрж┐ржЯ
тФВ   тФВ   тФЬтФАтФА ЁЯУД Withdraw.cshtml        # ржЙржЗржержбрзНрж░
тФВ   тФВ   тФЬтФАтФА ЁЯУД CustomerList.cshtml    # ржЧрзНрж░рж╛рж╣ржХ рж▓рж┐рж╕рзНржЯ
тФВ   тФВ   тФЬтФАтФА ЁЯУД TransactionList.cshtml # рж▓рзЗржиржжрзЗржи рж▓рж┐рж╕рзНржЯ
тФВ   тФВ   тФЬтФАтФА ЁЯУД GenerateStatement.cshtml # рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржЬрзЗржирж╛рж░рзЗржЯ
тФВ   тФВ   тФФтФАтФА ЁЯУД DailyReport.cshtml     # ржжрзИржирж┐ржХ рж░рж┐ржкрзЛрж░рзНржЯ
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Maker/                      # ржорзЗржХрж╛рж░ Views
тФВ   тФВ   тФЬтФАтФА ЁЯУД Dashboard.cshtml       # ржорзЗржХрж╛рж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб
тФВ   тФВ   тФЬтФАтФА ЁЯУД PendingCustomers.cshtml # ржкрзЗржирзНржбрж┐ржВ ржЧрзНрж░рж╛рж╣ржХ
тФВ   тФВ   тФЬтФАтФА ЁЯУД PendingTransactions.cshtml # ржкрзЗржирзНржбрж┐ржВ рж▓рзЗржиржжрзЗржи
тФВ   тФВ   тФЬтФАтФА ЁЯУД ApprovedTransactions.cshtml # ржПржкрзНрж░рзБржнржб рж▓рзЗржиржжрзЗржи
тФВ   тФВ   тФФтФАтФА ЁЯУД GenerateStatement.cshtml # рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржЬрзЗржирж╛рж░рзЗржЯ
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Admin/                      # ржЕрзНржпрж╛ржбржорж┐ржи Views
тФВ   тФВ   тФЬтФАтФА ЁЯУД Dashboard.cshtml       # ржЕрзНржпрж╛ржбржорж┐ржи ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб
тФВ   тФВ   тФЬтФАтФА ЁЯУД GLPosting.cshtml       # GL ржкрзЛрж╕рзНржЯрж┐ржВ
тФВ   тФВ   тФЬтФАтФА ЁЯУД PreGLCheck.cshtml      # ржкрзНрж░рж┐-GL ржЪрзЗржХ
тФВ   тФВ   тФЬтФАтФА ЁЯУД CustomerAccounts.cshtml # ржЧрзНрж░рж╛рж╣ржХ ржПржХрж╛ржЙржирзНржЯрж╕
тФВ   тФВ   тФЬтФАтФА ЁЯУД UserManagement.cshtml  # ржЗржЙржЬрж╛рж░ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ
тФВ   тФВ   тФЬтФАтФА ЁЯУД GenerateStatement.cshtml # рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ
тФВ   тФВ   тФФтФАтФА ЁЯУД GenerateFinancialStatement.cshtml # ржлрж╛ржЗржирж╛ржирзНрж╕рж┐ржпрж╝рж╛рж▓ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Auditor/                    # ржЕржбрж┐ржЯрж░ Views
тФВ   тФВ   тФЬтФАтФА ЁЯУД Dashboard.cshtml       # ржЕржбрж┐ржЯрж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб
тФВ   тФВ   тФЬтФАтФА ЁЯУД AuditLogs.cshtml       # ржЕржбрж┐ржЯ рж▓ржЧрж╕
тФВ   тФВ   тФЬтФАтФА ЁЯУД Reconcile.cshtml       # рж░рж┐ржХржирж╕рж╛ржЗрж▓
тФВ   тФВ   тФЬтФАтФА ЁЯУД ReconciliationHistory.cshtml # рж░рж┐ржХржирж╕рж╛ржЗрж▓рзЗрж╢ржи рж╣рж┐рж╕рзНржЯрзНрж░рж┐
тФВ   тФВ   тФЬтФАтФА ЁЯУД GenerateTrialBalance.cshtml # ржЯрзНрж░рж╛ржпрж╝рж╛рж▓ ржмрзНржпрж╛рж▓рзЗржирзНрж╕
тФВ   тФВ   тФФтФАтФА ЁЯУД ReconciliationResult.cshtml # рж░рж┐ржХржирж╕рж╛ржЗрж▓рзЗрж╢ржи рж░рзЗржЬрж╛рж▓рзНржЯ
тФВ   тФВ
тФВ   тФФтФАтФА ЁЯУБ Home/                       # рж╣рзЛржо Views
тФВ       тФЬтФАтФА ЁЯУД Index.cshtml           # рж╣рзЛржо ржкрзЗржЬ
тФВ       тФФтФАтФА ЁЯУД Privacy.cshtml         # ржкрзНрж░рж╛ржЗржнрзЗрж╕рж┐ ржкрж▓рж┐рж╕рж┐
тФВ
тФЬтФАтФА ЁЯУБ Models/                         # ViewModels
тФВ   тФЬтФАтФА ЁЯУД CheckerDashboardViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД MakerDashboardViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД AdminDashboardViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД AuditorDashboardViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД CustomerListViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД TransactionListViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД CustomerApprovalViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД TransactionApprovalViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД PreGLCheckViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД CustomerAccountsViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД UserManagementViewModel.cs
тФВ   тФЬтФАтФА ЁЯУД AuditLogsViewModel.cs
тФВ   тФФтФАтФА ЁЯУД ReconciliationHistoryViewModel.cs
тФВ
тФЬтФАтФА ЁЯУБ Services/                       # Web рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж╕
тФВ   тФЬтФАтФА ЁЯУД StatementPdfDocument.cs    # рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ PDF
тФВ   тФЬтФАтФА ЁЯУД TrialBalancePdfDocument.cs # ржЯрзНрж░рж╛ржпрж╝рж╛рж▓ ржмрзНржпрж╛рж▓рзЗржирзНрж╕ PDF
тФВ   тФЬтФАтФА ЁЯУД FinancialStatementPdfDocument.cs # ржлрж╛ржЗржирж╛ржирзНрж╕рж┐ржпрж╝рж╛рж▓ рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ PDF
тФВ   тФФтФАтФА ЁЯУД ReconciliationReportPdfDocument.cs # рж░рж┐ржХржирж╕рж╛ржЗрж▓рзЗрж╢ржи рж░рж┐ржкрзЛрж░рзНржЯ PDF
тФВ
тФЬтФАтФА ЁЯУБ Middleware/                     # ржХрж╛рж╕рзНржЯржо Middleware
тФВ   тФЬтФАтФА ЁЯУД UserActivityMiddleware.cs  # ржЗржЙржЬрж╛рж░ ржЕрзНржпрж╛ржХрзНржЯрж┐ржнрж┐ржЯрж┐ ржЯрзНрж░рзНржпрж╛ржХрж┐ржВ
тФВ   тФФтФАтФА ЁЯУД ExceptionHandlingMiddleware.cs # ржПржХрзНрж╕рзЗржкрж╢ржи рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ
тФВ
тФЬтФАтФА ЁЯУБ Filters/                        # Action Filters
тФВ   тФЬтФАтФА ЁЯУД GlobalExceptionFilter.cs   # ржЧрзНрж▓рзЛржмрж╛рж▓ ржПржХрзНрж╕рзЗржкрж╢ржи ржлрж┐рж▓рзНржЯрж╛рж░
тФВ   тФФтФАтФА ЁЯУД AuditActionFilter.cs       # ржЕржбрж┐ржЯ ржЕрзНржпрж╛ржХрж╢ржи ржлрж┐рж▓рзНржЯрж╛рж░
тФВ
тФЬтФАтФА ЁЯУБ wwwroot/                        # Static Files
тФВ   тФЬтФАтФА ЁЯУБ css/                       # CSS Files
тФВ   тФВ   тФЬтФАтФА ЁЯУД site.css              # ржорзЗржЗржи CSS
тФВ   тФВ   тФЬтФАтФА ЁЯУД dashboard.css         # ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб CSS
тФВ   тФВ   тФФтФАтФА ЁЯУД reports.css           # рж░рж┐ржкрзЛрж░рзНржЯрж╕ CSS
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ js/                        # JavaScript Files
тФВ   тФВ   тФЬтФАтФА ЁЯУД site.js               # ржорзЗржЗржи JS
тФВ   тФВ   тФЬтФАтФА ЁЯУД dashboard.js          # ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб JS
тФВ   тФВ   тФЬтФАтФА ЁЯУД validation.js         # ржнрзНржпрж╛рж▓рж┐ржбрзЗрж╢ржи JS
тФВ   тФВ   тФФтФАтФА ЁЯУД reports.js            # рж░рж┐ржкрзЛрж░рзНржЯрж╕ JS
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ lib/                       # Third-party Libraries
тФВ   тФВ   тФЬтФАтФА ЁЯУБ bootstrap/
тФВ   тФВ   тФЬтФАтФА ЁЯУБ jquery/
тФВ   тФВ   тФФтФАтФА ЁЯУБ font-awesome/
тФВ   тФВ
тФВ   тФФтФАтФА ЁЯУБ images/                    # Images
тФВ       тФЬтФАтФА ЁЯУД logo.png              # рж▓рзЛржЧрзЛ
тФВ       тФФтФАтФА ЁЯУД favicon.ico           # Favicon
тФВ
тФЬтФАтФА ЁЯУБ Areas/                          # Areas (ржРржЪрзНржЫрж┐ржХ)
тФВ   тФФтФАтФА ЁЯУБ Admin/                     # ржЕрзНржпрж╛ржбржорж┐ржи ржПрж░рж┐ржпрж╝рж╛
тФВ
тФЬтФАтФА ЁЯУД Program.cs                     # ржПржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╕рзНржЯрж╛рж░рзНржЯржЖржк
тФЬтФАтФА ЁЯУД appsettings.json               # ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
тФЬтФАтФА ЁЯУД appsettings.Development.json   # ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
тФЬтФАтФА ЁЯУД CBS_MultiBranch.Web.csproj     # Web ржкрзНрж░ржЬрзЗржХрзНржЯ ржлрж╛ржЗрж▓
тФФтФАтФА ЁЯУД README.md                      # Web рж▓рзЗрзЯрж╛рж░ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи
```

### **Web Layer ржПрж░ ржХрж╛ржЬ:**
- **Controllers**: HTTP requests рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ
- **Views**: UI рж░рзЗржирзНржбрж╛рж░рж┐ржВ
- **Models**: ViewModels
- **Services**: PDF generation, reporting
- **Middleware**: HTTP pipeline components
- **Static Files**: CSS, JavaScript, images

## ЁЯУБ рзл. Tests (ржРржЪрзНржЫрж┐ржХ - ржпржжрж┐ ржЯрзЗрж╕рзНржЯ ржкрзНрж░рзЛржЬрзЗржХрзНржЯ ржерж╛ржХрзЗ)

```
CBS_MultiBranch.Tests/
тФЬтФАтФА ЁЯУБ UnitTests/                      # ржЗржЙржирж┐ржЯ ржЯрзЗрж╕рзНржЯрж╕
тФВ   тФЬтФАтФА ЁЯУБ Domain/
тФВ   тФВ   тФЬтФАтФА ЁЯУД TransactionTests.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД CustomerTests.cs
тФВ   тФВ   тФФтФАтФА ЁЯУД AccountTests.cs
тФВ   тФВ
тФВ   тФЬтФАтФА ЁЯУБ Application/
тФВ   тФВ   тФЬтФАтФА ЁЯУД CustomerCommandTests.cs
тФВ   тФВ   тФЬтФАтФА ЁЯУД TransactionCommandTests.cs
тФВ   тФВ   тФФтФАтФА ЁЯУД GLCommandTests.cs
тФВ   тФВ
тФВ   тФФтФАтФА ЁЯУБ Infrastructure/
тФВ       тФЬтФАтФА ЁЯУД RepositoryTests.cs
тФВ       тФФтФАтФА ЁЯУД ServiceTests.cs
тФВ
тФЬтФАтФА ЁЯУБ IntegrationTests/               # ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи ржЯрзЗрж╕рзНржЯрж╕
тФВ   тФЬтФАтФА ЁЯУД CustomerIntegrationTests.cs
тФВ   тФЬтФАтФА ЁЯУД TransactionIntegrationTests.cs
тФВ   тФФтФАтФА ЁЯУД GLIntegrationTests.cs
тФВ
тФЬтФАтФА ЁЯУБ WebTests/                       # Web ржЯрзЗрж╕рзНржЯрж╕
тФВ   тФЬтФАтФА ЁЯУД ControllerTests.cs
тФВ   тФФтФАтФА ЁЯУД PageTests.cs
тФВ
тФЬтФАтФА ЁЯУД TestData/                       # ржЯрзЗрж╕рзНржЯ ржбрж╛ржЯрж╛
тФЬтФАтФА ЁЯУД CBS_MultiBranch.Tests.csproj    # ржЯрзЗрж╕рзНржЯ ржкрзНрж░ржЬрзЗржХрзНржЯ ржлрж╛ржЗрж▓
тФФтФАтФА ЁЯУД README.md
```

## ЁЯУБ рзм. DevOps ржПржмржВ Configuration

```
CBS_MultiBranch/
тФЬтФАтФА ЁЯУБ .github/                        # GitHub Actions
тФВ   тФФтФАтФА ЁЯУБ workflows/
тФВ       тФЬтФАтФА ЁЯУД build.yml              # ржмрж┐рж▓рзНржб workflow
тФВ       тФЬтФАтФА ЁЯУД test.yml               # ржЯрзЗрж╕рзНржЯ workflow
тФВ       тФФтФАтФА ЁЯУД deploy.yml             # ржбрж┐ржкрзНрж▓ржпрж╝ workflow
тФВ
тФЬтФАтФА ЁЯУБ docker/                         # Docker ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУД Dockerfile                 # Dockerfile
тФВ   тФЬтФАтФА ЁЯУД docker-compose.yml         # Docker Compose
тФВ   тФФтФАтФА ЁЯУД docker-compose.override.yml
тФВ
тФЬтФАтФА ЁЯУБ scripts/                        # Deployment Scripts
тФВ   тФЬтФАтФА ЁЯУД setup-database.sql         # ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзЗржЯржЖржк
тФВ   тФЬтФАтФА ЁЯУД seed-data.sql              # Seed ржбрж╛ржЯрж╛
тФВ   тФФтФАтФА ЁЯУД deploy.sh                  # ржбрж┐ржкрзНрж▓ржпрж╝ рж╕рзНржХрзНрж░рж┐ржкрзНржЯ
тФВ
тФЬтФАтФА ЁЯУБ docs/                          # ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУД API_Documentation.md      # API ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи
тФВ   тФЬтФАтФА ЁЯУД Database_Schema.md        # ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛
тФВ   тФЬтФАтФА ЁЯУД User_Manual.md            # ржЗржЙржЬрж╛рж░ ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓
тФВ   тФФтФАтФА ЁЯУД Deployment_Guide.md       # ржбрж┐ржкрзНрж▓ржпрж╝ржорзЗржирзНржЯ ржЧрж╛ржЗржб
тФВ
тФЬтФАтФА ЁЯУД .gitignore                     # Git ignore file
тФЬтФАтФА ЁЯУД .editorconfig                  # Code style configuration
тФЬтФАтФА ЁЯУД Directory.Build.props         # Common build properties
тФФтФАтФА ЁЯУД NuGet.config                   # NuGet configuration
```

## ЁЯОп ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржкрзБрж░рзЛ рж╕рж┐рж╕рзНржЯрзЗржо?

### **Workflow ржЙржжрж╛рж╣рж░ржг - Deposit:**

1. **Checker рж▓ржЧржЗржи ржХрж░рзЗ** тЖТ `AccountController.Login()`
2. **ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржжрзЗржЦрзЗ** тЖТ `CheckerController.Dashboard()`
3. **Deposit ржкрзЗржЬрзЗ ржпрж╛рзЯ** тЖТ `CheckerController.Deposit()`
4. **ржбрж╛ржЯрж╛ рж╕рж╛ржмржорж┐ржЯ ржХрж░рзЗ** тЖТ `CheckerController.Deposit()` (POST)
   - Request validate рж╣рзЯ тЖТ `DepositRequestValidator`
   - Command рждрзИрж░рж┐ рж╣рзЯ тЖТ `DepositCommand`
   - Handler execute рж╣рзЯ тЖТ `DepositCommandHandler`
   - Domain service ржХрж▓ рж╣рзЯ тЖТ `TransactionService.InitiateDepositAsync()`
   - Database ржП save рж╣рзЯ тЖТ `TransactionRepository.AddAsync()`
   - Audit log рждрзИрж░рж┐ рж╣рзЯ тЖТ `AuditLogRepository.AddAsync()`
5. **Response ржкрж╛рзЯ** тЖТ Batch number рж╕рж╣ success message
6. **Maker ржжрзЗржЦрждрзЗ ржкрж╛рзЯ** ржкрзЗржирзНржбрж┐ржВ рж▓рзЗржиржжрзЗржи
7. **Maker approve ржХрж░рзЗ** тЖТ MakerController ржжрж┐рзЯрзЗ
8. **Sub-ledger update рж╣рзЯ** тЖТ Account balance change
9. **Admin GL post ржХрж░рзЗ** тЖТ AdminController ржжрж┐рзЯрзЗ
10. **GL update рж╣рзЯ** тЖТ Double entry accounting

### **ржбрж╛ржЯрж╛ржмрзЗрж╕ ржлрзНрж▓рзЛ:**
```
Checker initiates тЖТ transactions table (status: Initiated)
Maker approves тЖТ 
  - transactions table (status: Approved)
  - accounts table (balance updated)
  - sub_ledger_entries table (entry added)
  
Admin posts GL тЖТ
  - gl_journals table (journal header)
  - gl_journal_lines table (debit/credit entries)
  - gl_heads table (balance updated)
  - transactions table (is_gl_posted: true)
  
Auditor reconciles тЖТ
  - reconciliation_logs table (check GL vs SL)
  - trial balance check
```

### **Security ржлрзНрж▓рзЛ:**
1. **Authentication**: Cookie-based
2. **Authorization**: Role-based (Checker, Maker, Admin, Auditor)
3. **Branch Access**: рж╢рзБржзрзБ ржирж┐ржЬрзЗрж░ ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕
4. **Audit Trail**: рж╕ржм ржЕрзНржпрж╛ржХрж╢ржи рж▓ржЧ рж╣рзЯ

### **PDF Generation ржлрзНрж▓рзЛ:**
```
Request тЖТ Controller тЖТ Query тЖТ Report Service тЖТ PDF Document тЖТ File Download
```

## ЁЯФз Technology Stack:

| Layer | Technology | Purpose |
|-------|------------|---------|
| **Presentation** | ASP.NET Core MVC, Razor Pages, Bootstrap | UI рж░рзЗржирзНржбрж╛рж░рж┐ржВ |
| **Application** | MediatR, AutoMapper, FluentValidation | Use Cases, Mapping, Validation |
| **Domain** | C#, .NET 9, Clean Architecture | Business Logic, Entities |
| **Infrastructure** | Entity Framework Core, MySQL, Repository Pattern | Database Access |
| **Utilities** | QuestPDF, Serilog, AutoMapper | PDF, Logging, Mapping |
| **Security** | ASP.NET Core Identity, Cookies | Authentication, Authorization |
| **DevOps** | Docker, GitHub Actions, MySQL | Deployment, CI/CD |

## ЁЯУК Key Features:

1. **Multi-branch Support**: ржкрзНрж░рждрж┐ржЯрж┐ ржмрзНрж░рж╛ржЮрзНржЪ ржЖрж▓рж╛ржжрж╛ ржбрж╛ржЯрж╛
2. **Double-entry Accounting**: ржбрзЗржмрж┐ржЯ/ржХрзНрж░рзЗржбрж┐ржЯ рж╕рж┐рж╕рзНржЯрзЗржо
3. **Role-based Access**: рзкржЯрж┐ ржЖрж▓рж╛ржжрж╛ рж░рзЛрж▓
4. **Maker-Checker**: рзи-рж▓рзЗржнрзЗрж▓ ржЕржерзЛрж░рж╛ржЗржЬрзЗрж╢ржи
5. **Audit Trail**: рж╕ржмржХрж┐ржЫрзБ рж▓ржЧ рж╣рзЯ
6. **Reconciliation**: GL vs SL matching
7. **PDF Reports**: рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ, ржЯрзНрж░рж╛ржпрж╝рж╛рж▓ ржмрзНржпрж╛рж▓рзЗржирзНрж╕
8. **Transaction Atomicity**: рж╕ржм ржЯрзНрж░рж╛ржиржЬрзЗржХрж╢ржи safe

## ЁЯЪА ржХрж┐ржнрж╛ржмрзЗ рж░рж╛ржи ржХрж░рж╛ржмрзЗржи:

```bash
# рзз. Database setup
mysql -u root -p < scripts/setup-database.sql

# рзи. Build solution
dotnet build

# рзй. Apply migrations
dotnet ef database update

# рзк. Run application
dotnet run --project CBS_MultiBranch.Web

# ржЕржержмрж╛ Docker ржП
docker-compose up -d
```

ржПржЗ рж╕ржорзНржкрзВрж░рзНржг рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ржЯрж┐ ржкрзНрж░рзЛржбрж╛ржХрж╢ржи-рж░рзЗржбрж┐ ржПржмржВ scalableред ржкрзНрж░рждрж┐ржЯрж┐ рж▓рзЗрзЯрж╛рж░ ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ responsibility ржирж┐рзЯрзЗ ржХрж╛ржЬ ржХрж░рзЗ, ржпрж╛ maintainability ржПржмржВ testability ржмрзГржжрзНржзрж┐ ржХрж░рзЗред
