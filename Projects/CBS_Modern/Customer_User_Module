

# üöÄ ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤-‡¶¨‡¶æ‡¶á-‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ó‡¶æ‡¶á‡¶°

## üìã ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü (‡¶Æ‡ßã‡¶ü ‡ß≠ ‡¶ü‡¶ø ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤)

```
‡¶™‡ßç‡¶∞‡¶ï‡¶≤‡ßç‡¶™ ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ ‡¶ó‡ßÅ‡¶≤‡ßã:
‚îú‚îÄ‚îÄ ‡ßß. üèóÔ∏è Core Infrastructure Module (‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ßß)
‚îú‚îÄ‚îÄ ‡ß®. üë• User & Authentication Module (‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß®)
‚îú‚îÄ‚îÄ ‡ß©. üë§ Customer Management Module (‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß©)
‚îú‚îÄ‚îÄ ‡ß™. üí∞ Transaction Processing Module (‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß™)
‚îú‚îÄ‚îÄ ‡ß´. üìä Accounting & GL Module (‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß´)
‚îú‚îÄ‚îÄ ‡ß¨. üìà Reporting & Audit Module (‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß¨)
‚îú‚îÄ‚îÄ ‡ß≠. üé® UI/UX Enhancement Module (‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß≠)
‚îî‚îÄ‚îÄ üß™ Testing & Deployment (‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ßÆ)
```

## üìÖ ‡¶∏‡¶æ‡¶™‡ßç‡¶§‡¶æ‡¶π‡¶ø‡¶ï ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®

### ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ßß: Core Infrastructure Module (‡¶è‡¶á ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π)

#### ‡¶¶‡¶ø‡¶® ‡ßß: ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
```bash
# ‡ßß. .NET 9.0 ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
# ‡ß®. MySQL ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
# ‡ß©. Visual Studio Code/Visual Studio 2022

# ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø
mkdir CBS_MultiBranch
cd CBS_MultiBranch
dotnet new sln --name CBS_MultiBranch

# ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶§‡ßà‡¶∞‡¶ø
dotnet new classlib -n CBS_MultiBranch.Domain
dotnet new classlib -n CBS_MultiBranch.Application
dotnet new classlib -n CBS_MultiBranch.Infrastructure
dotnet new webapp -n CBS_MultiBranch.Web --framework net9.0

# ‡¶∏‡¶≤‡ßç‡¶Ø‡ßÅ‡¶∂‡¶®‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
dotnet sln add CBS_MultiBranch.Domain
dotnet sln add CBS_MultiBranch.Application
dotnet sln add CBS_MultiBranch.Infrastructure
dotnet sln add CBS_MultiBranch.Web
```

#### ‡¶¶‡¶ø‡¶® ‡ß®: Domain Layer - Entities
```bash
# Domain ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞
CBS_MultiBranch.Domain/
‚îú‚îÄ‚îÄ Entities/
‚îÇ   ‚îú‚îÄ‚îÄ Branch.cs
‚îÇ   ‚îú‚îÄ‚îÄ User.cs          # User Entity ‡¶§‡ßà‡¶∞‡¶ø
‚îÇ   ‚îú‚îÄ‚îÄ Customer.cs      # Customer Entity ‡¶§‡ßà‡¶∞‡¶ø
‚îÇ   ‚îú‚îÄ‚îÄ Account.cs
‚îÇ   ‚îî‚îÄ‚îÄ Transaction.cs
```

User.cs (‡¶™‡ßç‡¶∞‡¶•‡¶Æ Entity):
```csharp
using System.ComponentModel.DataAnnotations;

namespace CBS_MultiBranch.Domain.Entities
{
    public class User
    {
        public int Id { get; set; }
        
        [Required]
        [MaxLength(50)]
        public string Username { get; set; } = string.Empty;
        
        [Required]
        [MaxLength(255)]
        public string PasswordHash { get; set; } = string.Empty;
        
        [Required]
        [MaxLength(50)]
        public string FullName { get; set; } = string.Empty;
        
        [Required]
        public UserRole Role { get; set; }
        
        [Required]
        public int BranchId { get; set; }
        
        public int FailedAttempts { get; set; } = 0;
        public DateTime? LockUntil { get; set; }
        public bool IsLocked { get; set; } = false;
        public bool IsActive { get; set; } = true;
        public DateTime? LastLogin { get; set; }
        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;
        public int CreatedBy { get; set; }
        
        // Navigation properties
        public virtual Branch Branch { get; set; } = null!;
        
        public enum UserRole
        {
            SuperAdmin = 1,    // Head Office
            Admin = 2,         // Branch Admin
            Maker = 3,
            Checker = 4,
            Auditor = 5
        }
    }
}
```

#### ‡¶¶‡¶ø‡¶® ‡ß©: Domain Layer - Value Objects & Interfaces
```csharp
// CBS_MultiBranch.Domain/ValueObjects/Result.cs
namespace CBS_MultiBranch.Domain.ValueObjects
{
    public class Result<T>
    {
        public bool IsSuccess { get; }
        public T? Value { get; }
        public string Error { get; }
        public int ErrorCode { get; }

        private Result(bool isSuccess, T? value, string error, int errorCode)
        {
            IsSuccess = isSuccess;
            Value = value;
            Error = error;
            ErrorCode = errorCode;
        }

        public static Result<T> Success(T value) => new(true, value, string.Empty, 0);
        public static Result<T> Failure(string error, int errorCode = 400) => new(false, default, error, errorCode);
    }
}

// CBS_MultiBranch.Domain/Interfaces/IUserRepository.cs
namespace CBS_MultiBranch.Domain.Interfaces
{
    public interface IUserRepository
    {
        Task<User?> GetByIdAsync(int id);
        Task<User?> GetByUsernameAsync(string username);
        Task<User?> GetByUsernameAndBranchAsync(string username, int branchId);
        Task<IEnumerable<User>> GetUsersByBranchAsync(int branchId);
        Task<User> AddAsync(User user);
        Task UpdateAsync(User user);
        Task<bool> IsUsernameUniqueAsync(string username);
        Task<int> GetUserCountByBranchAsync(int branchId);
    }
}
```

#### ‡¶¶‡¶ø‡¶® ‡ß™: Infrastructure Layer - Database Context
```csharp
// CBS_MultiBranch.Infrastructure/Data/ApplicationDbContext.cs
using Microsoft.EntityFrameworkCore;
using CBS_MultiBranch.Domain.Entities;

namespace CBS_MultiBranch.Infrastructure.Data
{
    public class ApplicationDbContext : DbContext
    {
        public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options)
            : base(options)
        {
        }

        public DbSet<User> Users { get; set; }
        // ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø DbSet ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶™‡¶∞‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶¨

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            base.OnModelCreating(modelBuilder);
            
            // User Configuration
            modelBuilder.Entity<User>(entity =>
            {
                entity.HasKey(e => e.Id);
                
                entity.Property(e => e.Username)
                    .IsRequired()
                    .HasMaxLength(50);
                    
                entity.Property(e => e.PasswordHash)
                    .IsRequired()
                    .HasMaxLength(255);
                    
                entity.Property(e => e.FullName)
                    .IsRequired()
                    .HasMaxLength(100);
                    
                entity.Property(e => e.Role)
                    .HasConversion<string>()
                    .HasMaxLength(20);
                    
                entity.Property(e => e.FailedAttempts)
                    .HasDefaultValue(0);
                    
                entity.Property(e => e.IsLocked)
                    .HasDefaultValue(false);
                    
                entity.Property(e => e.IsActive)
                    .HasDefaultValue(true);
                    
                entity.Property(e => e.CreatedAt)
                    .HasDefaultValueSql("CURRENT_TIMESTAMP");
                    
                entity.HasIndex(e => e.Username)
                    .IsUnique();
                    
                entity.HasOne(e => e.Branch)
                    .WithMany()
                    .HasForeignKey(e => e.BranchId)
                    .OnDelete(DeleteBehavior.Restrict);
            });
        }
    }
}
```

#### ‡¶¶‡¶ø‡¶® ‡ß´: Infrastructure Layer - Repository Implementation
```csharp
// CBS_MultiBranch.Infrastructure/Repositories/UserRepository.cs
using CBS_MultiBranch.Domain.Entities;
using CBS_MultiBranch.Domain.Interfaces;
using CBS_MultiBranch.Infrastructure.Data;
using Microsoft.EntityFrameworkCore;

namespace CBS_MultiBranch.Infrastructure.Repositories
{
    public class UserRepository : IUserRepository
    {
        private readonly ApplicationDbContext _context;

        public UserRepository(ApplicationDbContext context)
        {
            _context = context;
        }

        public async Task<User?> GetByIdAsync(int id)
        {
            return await _context.Users
                .Include(u => u.Branch)
                .FirstOrDefaultAsync(u => u.Id == id);
        }

        public async Task<User?> GetByUsernameAsync(string username)
        {
            return await _context.Users
                .Include(u => u.Branch)
                .FirstOrDefaultAsync(u => u.Username == username);
        }

        public async Task<User?> GetByUsernameAndBranchAsync(string username, int branchId)
        {
            return await _context.Users
                .Include(u => u.Branch)
                .FirstOrDefaultAsync(u => u.Username == username && u.BranchId == branchId);
        }

        public async Task<IEnumerable<User>> GetUsersByBranchAsync(int branchId)
        {
            return await _context.Users
                .Where(u => u.BranchId == branchId && u.IsActive)
                .Include(u => u.Branch)
                .OrderBy(u => u.Username)
                .ToListAsync();
        }

        public async Task<User> AddAsync(User user)
        {
            _context.Users.Add(user);
            await _context.SaveChangesAsync();
            return user;
        }

        public async Task UpdateAsync(User user)
        {
            _context.Entry(user).State = EntityState.Modified;
            await _context.SaveChangesAsync();
        }

        public async Task<bool> IsUsernameUniqueAsync(string username)
        {
            return !await _context.Users.AnyAsync(u => u.Username == username);
        }

        public async Task<int> GetUserCountByBranchAsync(int branchId)
        {
            return await _context.Users
                .Where(u => u.BranchId == branchId && u.IsActive)
                .CountAsync();
        }
    }
}
```

#### ‡¶¶‡¶ø‡¶® ‡ß¨-‡ß≠: Unit of Work & Dependency Injection
```csharp
// CBS_MultiBranch.Infrastructure/UnitOfWork.cs
using CBS_MultiBranch.Domain.Interfaces;
using CBS_MultiBranch.Infrastructure.Data;
using Microsoft.EntityFrameworkCore.Storage;

namespace CBS_MultiBranch.Infrastructure
{
    public class UnitOfWork : IUnitOfWork
    {
        private readonly ApplicationDbContext _context;
        private IDbContextTransaction? _transaction;

        public UnitOfWork(ApplicationDbContext context)
        {
            _context = context;
        }

        // Add repositories as properties
        private IUserRepository? _users;
        public IUserRepository Users => _users ??= new UserRepository(_context);

        public async Task<int> CompleteAsync()
        {
            return await _context.SaveChangesAsync();
        }

        public async Task BeginTransactionAsync()
        {
            _transaction = await _context.Database.BeginTransactionAsync();
        }

        public async Task CommitTransactionAsync()
        {
            if (_transaction != null)
            {
                await _transaction.CommitAsync();
                await _transaction.DisposeAsync();
                _transaction = null;
            }
        }

        public async Task RollbackTransactionAsync()
        {
            if (_transaction != null)
            {
                await _transaction.RollbackAsync();
                await _transaction.DisposeAsync();
                _transaction = null;
            }
        }

        public void Dispose()
        {
            _transaction?.Dispose();
            _context.Dispose();
        }
    }
}
```

### ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß®: User & Authentication Module

#### ‡¶¶‡¶ø‡¶® ‡ßß: Application Layer - DTOs
```csharp
// CBS_MultiBranch.Application/DTOs/Auth/
namespace CBS_MultiBranch.Application.DTOs.Auth
{
    public class LoginRequest
    {
        [Required(ErrorMessage = "Username is required")]
        [StringLength(50, MinimumLength = 3)]
        public string Username { get; set; } = string.Empty;
        
        [Required(ErrorMessage = "Password is required")]
        [StringLength(100, MinimumLength = 6)]
        public string Password { get; set; } = string.Empty;
        
        [Required(ErrorMessage = "Branch code is required")]
        public string BranchCode { get; set; } = string.Empty;
    }

    public class LoginResponse
    {
        public bool Success { get; set; }
        public string Message { get; set; } = string.Empty;
        public UserInfo User { get; set; } = new();
        public string Token { get; set; } = string.Empty;
        public DateTime LoginTime { get; set; }
    }

    public class UserInfo
    {
        public int Id { get; set; }
        public string Username { get; set; } = string.Empty;
        public string FullName { get; set; } = string.Empty;
        public string Role { get; set; } = string.Empty;
        public string BranchName { get; set; } = string.Empty;
        public int BranchId { get; set; }
        public string BranchCode { get; set; } = string.Empty;
    }

    public class CreateUserRequest
    {
        [Required]
        public string Username { get; set; } = string.Empty;
        
        [Required]
        [MinLength(6)]
        public string Password { get; set; } = string.Empty;
        
        [Required]
        public string FullName { get; set; } = string.Empty;
        
        [Required]
        public string Role { get; set; } = string.Empty;
        
        [Required]
        public int BranchId { get; set; }
        
        [EmailAddress]
        public string? Email { get; set; }
        
        [Phone]
        public string? Phone { get; set; }
        
        [Required]
        public int CreatedBy { get; set; }
    }
}
```

#### ‡¶¶‡¶ø‡¶® ‡ß®: Application Layer - Commands & Handlers
```csharp
// CBS_MultiBranch.Application/Features/Auth/Commands/LoginCommand.cs
using MediatR;
using CBS_MultiBranch.Application.DTOs.Auth;
using CBS_MultiBranch.Domain.ValueObjects;

namespace CBS_MultiBranch.Application.Features.Auth.Commands
{
    public class LoginCommand : IRequest<Result<LoginResponse>>
    {
        public LoginRequest Request { get; set; }
        
        public LoginCommand(LoginRequest request)
        {
            Request = request;
        }
    }

    public class LoginCommandHandler : IRequestHandler<LoginCommand, Result<LoginResponse>>
    {
        private readonly IUnitOfWork _unitOfWork;
        private readonly ILogger<LoginCommandHandler> _logger;

        public LoginCommandHandler(
            IUnitOfWork unitOfWork,
            ILogger<LoginCommandHandler> logger)
        {
            _unitOfWork = unitOfWork;
            _logger = logger;
        }

        public async Task<Result<LoginResponse>> Handle(
            LoginCommand command, CancellationToken cancellationToken)
        {
            try
            {
                var request = command.Request;
                
                // Get branch by code
                // TODO: Implement branch repository
                // var branch = await _unitOfWork.Branches.GetByCodeAsync(request.BranchCode);
                
                // For now, hardcode branch check
                if (request.BranchCode != "BR001")
                {
                    return Result<LoginResponse>.Failure("Invalid branch code");
                }
                
                // Get user by username and branch
                var user = await _unitOfWork.Users.GetByUsernameAsync(request.Username);
                if (user == null)
                {
                    return Result<LoginResponse>.Failure("Invalid username or password");
                }
                
                // Check if user is active
                if (!user.IsActive)
                {
                    return Result<LoginResponse>.Failure("User account is inactive");
                }
                
                // Check if user is locked
                if (user.IsLocked)
                {
                    if (user.LockUntil > DateTime.UtcNow)
                    {
                        var remaining = user.LockUntil.Value - DateTime.UtcNow;
                        return Result<LoginResponse>.Failure(
                            $"Account locked. Try again in {remaining.Minutes} minutes");
                    }
                    else
                    {
                        // Unlock account
                        user.IsLocked = false;
                        user.LockUntil = null;
                        user.FailedAttempts = 0;
                        await _unitOfWork.Users.UpdateAsync(user);
                    }
                }
                
                // Verify password (temporary - implement proper hashing)
                if (user.PasswordHash != request.Password) // Temporary
                {
                    user.FailedAttempts++;
                    
                    if (user.FailedAttempts >= 3)
                    {
                        user.IsLocked = true;
                        user.LockUntil = DateTime.UtcNow.AddMinutes(5);
                        await _unitOfWork.Users.UpdateAsync(user);
                        return Result<LoginResponse>.Failure(
                            "Account locked for 5 minutes due to 3 failed attempts");
                    }
                    
                    await _unitOfWork.Users.UpdateAsync(user);
                    return Result<LoginResponse>.Failure(
                        $"Invalid password. {3 - user.FailedAttempts} attempts remaining");
                }
                
                // Reset failed attempts on successful login
                user.FailedAttempts = 0;
                user.LastLogin = DateTime.UtcNow;
                await _unitOfWork.Users.UpdateAsync(user);
                
                // Create response
                var response = new LoginResponse
                {
                    Success = true,
                    Message = "Login successful",
                    User = new UserInfo
                    {
                        Id = user.Id,
                        Username = user.Username,
                        FullName = user.FullName,
                        Role = user.Role.ToString(),
                        BranchId = user.BranchId,
                        BranchName = "Main Branch", // TODO: Get from branch
                        BranchCode = "BR001"
                    },
                    LoginTime = DateTime.UtcNow
                };
                
                _logger.LogInformation("User logged in: {Username}", user.Username);
                
                return Result<LoginResponse>.Success(response);
            }
            catch (Exception ex)
            {
                _logger.LogError(ex, "Error during login");
                return Result<LoginResponse>.Failure("Error during login process");
            }
        }
    }
}
```

#### ‡¶¶‡¶ø‡¶® ‡ß©: Web Layer - Controllers
```csharp
// CBS_MultiBranch.Web/Controllers/AccountController.cs
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Authentication.Cookies;
using System.Security.Claims;
using CBS_MultiBranch.Application.DTOs.Auth;
using CBS_MultiBranch.Application.Features.Auth.Commands;
using MediatR;

namespace CBS_MultiBranch.Web.Controllers
{
    public class AccountController : Controller
    {
        private readonly IMediator _mediator;
        private readonly ILogger<AccountController> _logger;

        public AccountController(
            IMediator mediator,
            ILogger<AccountController> logger)
        {
            _mediator = mediator;
            _logger = logger;
        }

        [HttpGet]
        public IActionResult Login()
        {
            return View();
        }

        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task<IActionResult> Login(LoginRequest request)
        {
            try
            {
                if (!ModelState.IsValid)
                {
                    return View(request);
                }

                var command = new LoginCommand(request);
                var result = await _mediator.Send(command);

                if (result.IsSuccess)
                {
                    var loginResponse = result.Value;
                    
                    // Create claims
                    var claims = new List<Claim>
                    {
                        new Claim(ClaimTypes.NameIdentifier, loginResponse.User.Id.ToString()),
                        new Claim(ClaimTypes.Name, loginResponse.User.Username),
                        new Claim(ClaimTypes.Role, loginResponse.User.Role),
                        new Claim("FullName", loginResponse.User.FullName),
                        new Claim("BranchId", loginResponse.User.BranchId.ToString()),
                        new Claim("BranchName", loginResponse.User.BranchName),
                        new Claim("BranchCode", loginResponse.User.BranchCode)
                    };

                    var claimsIdentity = new ClaimsIdentity(
                        claims, CookieAuthenticationDefaults.AuthenticationScheme);

                    var authProperties = new AuthenticationProperties
                    {
                        IsPersistent = false,
                        ExpiresUtc = DateTimeOffset.UtcNow.AddMinutes(30),
                        AllowRefresh = true
                    };

                    await HttpContext.SignInAsync(
                        CookieAuthenticationDefaults.AuthenticationScheme,
                        new ClaimsPrincipal(claimsIdentity),
                        authProperties);

                    // Redirect based on role
                    return RedirectToAction("Dashboard", GetDashboardController(loginResponse.User.Role));
                }

                ModelState.AddModelError("", result.Error);
                return View(request);
            }
            catch (Exception ex)
            {
                _logger.LogError(ex, "Error during login");
                ModelState.AddModelError("", "An error occurred during login");
                return View(request);
            }
        }

        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task<IActionResult> Logout()
        {
            await HttpContext.SignOutAsync(CookieAuthenticationDefaults.AuthenticationScheme);
            return RedirectToAction("Login");
        }

        [HttpGet]
        public IActionResult AccessDenied()
        {
            return View();
        }

        private string GetDashboardController(string role)
        {
            return role switch
            {
                "SuperAdmin" or "Admin" => "Admin",
                "Maker" => "Maker",
                "Checker" => "Checker",
                "Auditor" => "Auditor",
                _ => "Home"
            };
        }
    }
}
```

#### ‡¶¶‡¶ø‡¶® ‡ß™: Web Layer - Views
```html
<!-- CBS_MultiBranch.Web/Views/Account/Login.cshtml -->
@model CBS_MultiBranch.Application.DTOs.Auth.LoginRequest

@{
    ViewData["Title"] = "Login";
}

<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0">
                    <i class="fas fa-university me-2"></i>CBS Banking System
                </h4>
            </div>
            <div class="card-body">
                <form asp-action="Login" method="post">
                    @Html.AntiForgeryToken()
                    
                    <div class="mb-3">
                        <label asp-for="Username" class="form-label">
                            <i class="fas fa-user me-2"></i>Username
                        </label>
                        <input asp-for="Username" class="form-control" placeholder="Enter username" />
                        <span asp-validation-for="Username" class="text-danger"></span>
                    </div>
                    
                    <div class="mb-3">
                        <label asp-for="Password" class="form-label">
                            <i class="fas fa-lock me-2"></i>Password
                        </label>
                        <input asp-for="Password" type="password" class="form-control" placeholder="Enter password" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                    
                    <div class="mb-3">
                        <label asp-for="BranchCode" class="form-label">
                            <i class="fas fa-building me-2"></i>Branch Code
                        </label>
                        <input asp-for="BranchCode" class="form-control" placeholder="Enter branch code (e.g., BR001)" />
                        <span asp-validation-for="BranchCode" class="text-danger"></span>
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-sign-in-alt me-2"></i>Login
                        </button>
                    </div>
                </form>
                
                @if (!ViewData.ModelState.IsValid)
                {
                    <div class="alert alert-danger mt-3">
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    </div>
                }
            </div>
        </div>
    </div>
</div>
```

#### ‡¶¶‡¶ø‡¶® ‡ß´-‡ß≠: User Management Features
- User List View
- Create User
- Edit User
- Change Password
- User Status Management

### ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß©: Customer Management Module

#### ‡¶ï‡¶æ‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã:
1. Customer Entity ‡¶§‡ßà‡¶∞‡¶ø
2. Account Entity ‡¶§‡ßà‡¶∞‡¶ø
3. Customer DTOs
4. Customer Commands (Create, Update, Approve)
5. Customer Queries
6. Customer Controllers
7. Customer Views

### ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß™: Transaction Processing Module

#### ‡¶ï‡¶æ‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã:
1. Transaction Entity ‡¶§‡ßà‡¶∞‡¶ø
2. CashDrawer Entity ‡¶§‡ßà‡¶∞‡¶ø
3. Deposit/Withdrawal workflow
4. Maker-Checker approval system
5. Transaction validation

### ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß´: Accounting & GL Module

#### ‡¶ï‡¶æ‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã:
1. GLHead Entity ‡¶§‡ßà‡¶∞‡¶ø
2. GLJournal Entity ‡¶§‡ßà‡¶∞‡¶ø
3. Double-entry accounting
4. GL Posting
5. Reconciliation

### ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß¨: Reporting & Audit Module

#### ‡¶ï‡¶æ‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã:
1. AuditLog Entity ‡¶§‡ßà‡¶∞‡¶ø
2. Report generation
3. PDF export
4. Statement generation
5. Trial Balance

### ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ß≠: UI/UX Enhancement

#### ‡¶ï‡¶æ‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã:
1. Dashboard design
2. Responsive design
3. Data tables with pagination
4. Charts and graphs
5. Email/SMS notifications

### ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡ßÆ: Testing & Deployment

#### ‡¶ï‡¶æ‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã:
1. Unit testing
2. Integration testing
3. Security testing
4. Performance testing
5. Deployment to server

## üéØ ‡¶Ü‡¶ú‡¶ï‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßá‡¶™ ‡¶¨‡¶æ‡¶á ‡¶∏‡ßç‡¶ü‡ßá‡¶™:

### ‡¶ß‡¶æ‡¶™ ‡ßß: ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
```bash
# ‡ßß. ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø
mkdir CBS_MultiBranch
cd CBS_MultiBranch

# ‡ß®. ‡¶∏‡¶≤‡ßç‡¶Ø‡ßÅ‡¶∂‡¶® ‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø
dotnet new sln --name CBS_MultiBranch

# ‡ß©. ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶§‡ßà‡¶∞‡¶ø
dotnet new classlib -n CBS_MultiBranch.Domain
dotnet new classlib -n CBS_MultiBranch.Application
dotnet new classlib -n CBS_MultiBranch.Infrastructure
dotnet new webapp -n CBS_MultiBranch.Web --framework net9.0

# ‡ß™. ‡¶∏‡¶≤‡ßç‡¶Ø‡ßÅ‡¶∂‡¶®‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
dotnet sln add CBS_MultiBranch.Domain
dotnet sln add CBS_MultiBranch.Application
dotnet sln add CBS_MultiBranch.Infrastructure
dotnet sln add CBS_MultiBranch.Web
```

### ‡¶ß‡¶æ‡¶™ ‡ß®: NuGet Packages ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡¶≤
```bash
# Domain ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü‡ßá
cd CBS_MultiBranch.Domain
# No extra packages needed

# Application ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü‡ßá
cd ../CBS_MultiBranch.Application
dotnet add package MediatR
dotnet add package AutoMapper
dotnet add package FluentValidation

# Infrastructure ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü‡ßá
cd ../CBS_MultiBranch.Infrastructure
dotnet add package Microsoft.EntityFrameworkCore
dotnet add package Pomelo.EntityFrameworkCore.MySql
dotnet add package Microsoft.Extensions.Configuration

# Web ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü‡ßá
cd ../CBS_MultiBranch.Web
dotnet add package Microsoft.AspNetCore.Authentication.Cookies
dotnet add package Microsoft.AspNetCore.Session
dotnet add package QuestPDF
```

### ‡¶ß‡¶æ‡¶™ ‡ß©: ‡¶™‡ßç‡¶∞‡¶•‡¶Æ Entity ‡¶§‡ßà‡¶∞‡¶ø (User.cs)
‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶ï‡ßã‡¶° ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ `CBS_MultiBranch.Domain/Entities/User.cs` ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§

### ‡¶ß‡¶æ‡¶™ ‡ß™: Program.cs ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶®
```csharp
// CBS_MultiBranch.Web/Program.cs
var builder = WebApplication.CreateBuilder(args);

// Add services
builder.Services.AddControllersWithViews();
builder.Services.AddSession();
builder.Services.AddAuthentication(CookieAuthenticationDefaults.AuthenticationScheme)
    .AddCookie(options =>
    {
        options.LoginPath = "/Account/Login";
        options.LogoutPath = "/Account/Logout";
        options.AccessDeniedPath = "/Account/AccessDenied";
    });

var app = builder.Build();

// Configure pipeline
app.UseStaticFiles();
app.UseRouting();
app.UseAuthentication();
app.UseAuthorization();
app.MapControllerRoute(
    name: "default",
    pattern: "{controller=Account}/{action=Login}/{id?}");

app.Run();
```

### ‡¶ß‡¶æ‡¶™ ‡ß´: ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∞‡¶æ‡¶®
```bash
# Build ‡¶ï‡¶∞‡ßÅ‡¶®
dotnet build

# Run ‡¶ï‡¶∞‡ßÅ‡¶®
dotnet run --project CBS_MultiBranch.Web
```

## üìä ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶ø‡¶Æ‡ßç‡¶™‡¶≤ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶≤ ‡¶∂‡ßÄ‡¶ü:

| Module | Day | Task | Status | Notes |
|--------|-----|------|--------|-------|
| Core | 1 | Project Setup | ‚úÖ | Done |
| Core | 2 | User Entity | üîÑ | In Progress |
| Core | 3 | Result Pattern | ‚è≥ | Pending |
| Core | 4 | DbContext | ‚è≥ | Pending |
| Core | 5 | Repository | ‚è≥ | Pending |
| Core | 6 | UnitOfWork | ‚è≥ | Pending |
| Auth | 1 | Login DTO | ‚è≥ | Pending |
| Auth | 2 | Login Command | ‚è≥ | Pending |
| Auth | 3 | Account Controller | ‚è≥ | Pending |
| Auth | 4 | Login View | ‚è≥ | Pending |

## üí° ‡¶ü‡¶ø‡¶™‡¶∏:

1. ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® ‡ßß-‡ß® ‡¶ò‡¶®‡ßç‡¶ü‡¶æ ‡¶∏‡¶Æ‡ßü ‡¶¶‡¶ø‡¶®
2. ‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡ßá ‡¶≠‡¶æ‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
3. ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® ‡¶ï‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® Git ‡¶è
4. ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡¶∞
5. ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∂‡¶® ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® ‡¶ï‡¶ø ‡¶ï‡¶∞‡¶õ‡ßá‡¶®

## üÜò ‡¶Ø‡¶¶‡¶ø ‡¶Ü‡¶ü‡¶ï‡ßá ‡¶Ø‡¶æ‡¶®:

1. ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá Google ‡¶ï‡¶∞‡ßÅ‡¶®
2. Stack Overflow ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
3. .NET documentation ‡¶™‡ßú‡ßÅ‡¶®
4. ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶ú‡¶ø‡¶ú‡ßç‡¶û‡ßá‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶®

## üéØ ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü:

‚úÖ ‡¶Ü‡¶ú‡¶ï‡ßá User Module ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®:

1. [ ] User Entity ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
2. [ ] Result.cs ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®  
3. [ ] IUserRepository ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶´‡ßá‡¶∏ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
4. [ ] ApplicationDbContext ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
5. [ ] UserRepository ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
6. [ ] Program.cs ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
7. [ ] Build & Run ‡¶ï‡¶∞‡ßÅ‡¶®

‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® ‡¶è‡¶á ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶´‡¶≤‡ßã ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶è‡¶ï ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π‡ßá User Module ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü ‡¶π‡¶¨‡ßá!

‡¶ï‡¶ø ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®? ‡¶è‡¶ñ‡¶®‡¶á ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∏‡ßç‡¶ü‡ßá‡¶™‡¶ü‡¶æ ‡¶®‡¶ø‡¶®! üöÄ





.
