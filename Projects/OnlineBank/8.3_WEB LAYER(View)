```html
# =====================================================
# 8) Bootstrap UI (Layout + Views)
# =====================================================

<!--
এই UI অংশে কী implement করা হয়েছে?
- Bootstrap CDN দিয়ে responsive UI
- Shared _Layout: Navbar + Login/Register/Logout links
- Auth check: User.Identity.IsAuthenticated অনুযায়ী menu show/hide
- Admin check: IsAdmin claim অনুযায়ী Admin/Audit menu show
- TempData["Msg"] message show (Deposit/Withdraw/Transfer feedback)
-->



<!-- =====================================================
     8.1 Shared Layout
     =====================================================

ফাইল লোকেশন:
src/OnlineBanking.Web/Views/Shared/_Layout.cshtml
-->

<!doctype html>
<html>
<head>
  <!-- HTML document এর character encoding (UTF-8) -->
  <meta charset="utf-8" />

  <!-- Mobile responsive layout enable (Bootstrap responsive কাজ করে) -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Page title: ViewData["Title"] থেকে নেয় + app name -->
  <title>@ViewData["Title"] - OnlineBanking</title>

  <!-- Bootstrap CSS CDN include (UI styling) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body>

<!-- Top navigation bar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">

    <!-- Brand logo/link: home page এ যাবে -->
    <a class="navbar-brand" href="/">OnlineBanking</a>

    <!-- Navbar items container -->
    <div class="collapse navbar-collapse">

      <!-- Left side menu -->
      <ul class="navbar-nav me-auto">

        <!-- যদি user logged-in থাকে তাহলে dashboard menu দেখাবে -->
        @if (User.Identity?.IsAuthenticated ?? false)
        {
          <li class="nav-item">
            <a class="nav-link" href="/Banking/Dashboard">Dashboard</a>
          </li>

          <!-- যদি claim IsAdmin == "true" হয়, তাহলে Admin menus দেখাবে -->
          @if (User.Claims.FirstOrDefault(c => c.Type == "IsAdmin")?.Value == "true")
          {
            <li class="nav-item">
              <a class="nav-link" href="/Admin/Customers">Admin</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="/Admin/Audit">Audit</a>
            </li>
          }
        }
      </ul>

      <!-- Right side menu -->
      <ul class="navbar-nav">

        <!-- Logged-in হলে Logout button দেখাবে -->
        @if (User.Identity?.IsAuthenticated ?? false)
        {
          <li class="nav-item">
            <!-- Logout POST করা হচ্ছে (security best practice) -->
            <form method="post" action="/Account/Logout">
              <button class="btn btn-sm btn-outline-light" type="submit">Logout</button>
            </form>
          </li>
        }
        else
        {
          <!-- Logged-out হলে Login/Register link দেখাবে -->
          <li class="nav-item"><a class="nav-link" href="/Account/Login">Login</a></li>
          <li class="nav-item"><a class="nav-link" href="/Account/Register">Register</a></li>
        }
      </ul>

    </div>
  </div>
</nav>

<!-- Main container -->
<div class="container mt-4">

  <!-- TempData message show:
       Controllers থেকে TempData["Msg"] সেট করলে এখানে alert দেখাবে -->
  @if (TempData["Msg"] != null)
  {
    <div class="alert alert-info">@TempData["Msg"]</div>
  }

  <!-- Child page content এখানে render হবে -->
  @RenderBody()
</div>

<!-- Bootstrap JS bundle CDN include (dropdown, modal ইত্যাদি interactive features এর জন্য) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>



<!-- =====================================================
     8.2 Account Views
     ===================================================== -->

<!--
ফাইল লোকেশন:
Views/Account/Register.cshtml
-->

@model OnlineBanking.Web.Models.RegisterVm
@{ ViewData["Title"] = "Register"; } <!-- page title সেট -->

<div class="row justify-content-center">
  <div class="col-md-6">
    <h3>Register</h3>

    <!-- form POST হবে Account/Register এ (default route) -->
    <form method="post" class="card card-body">
      <!-- validation errors summary show -->
      <div asp-validation-summary="All" class="text-danger"></div>

      <!-- Name field -->
      <label class="form-label">Name</label>
      <input class="form-control" asp-for="Name" />

      <!-- Email field -->
      <label class="form-label mt-2">Email</label>
      <input class="form-control" asp-for="Email" />

      <!-- City field -->
      <label class="form-label mt-2">City</label>
      <input class="form-control" asp-for="City" />

      <!-- Password field (type=password) -->
      <label class="form-label mt-2">Password</label>
      <input class="form-control" asp-for="Password" type="password" />

      <!-- Submit button -->
      <button class="btn btn-primary mt-3" type="submit">Register</button>
    </form>
  </div>
</div>


<!--
ফাইল লোকেশন:
Views/Account/RegisterSuccess.cshtml
-->

@{ ViewData["Title"] = "Success"; } <!-- page title -->
<div class="alert alert-success">
  <h4>Registration Successful</h4>

  <!-- Account number ViewBag থেকে show (TempData হয়ে এসেছে) -->
  <p>Your 5-digit Account Number: <b>@ViewBag.AccountNumber</b></p>
  <p>Use this account number to login.</p>
</div>

<!-- Login page link -->
<a class="btn btn-dark" href="/Account/Login">Go to Login</a>


<!--
ফাইল লোকেশন:
Views/Account/Login.cshtml
-->

@model OnlineBanking.Web.Models.LoginVm
@{ ViewData["Title"] = "Login"; }

<div class="row justify-content-center">
  <div class="col-md-5">
    <h3>Login</h3>

    <!-- form POST হবে Account/Login এ -->
    <form method="post" class="card card-body">
      <!-- validation summary -->
      <div asp-validation-summary="All" class="text-danger"></div>

      <!-- AccountNumber input -->
      <label class="form-label">Account Number</label>
      <input class="form-control" asp-for="AccountNumber" />

      <!-- Password input -->
      <label class="form-label mt-2">Password</label>
      <input class="form-control" asp-for="Password" type="password" />

      <!-- submit -->
      <button class="btn btn-primary mt-3" type="submit">Login</button>

      <!-- register link -->
      <a class="btn btn-link mt-2" href="/Account/Register">Create account</a>
    </form>
  </div>
</div>



<!-- =====================================================
     8.3 Banking Dashboard view
     =====================================================

ফাইল লোকেশন:
Views/Banking/Dashboard.cshtml
-->

@{
  ViewData["Title"] = "Dashboard";

  // ViewBag.Profile থেকে strongly-typed tuple cast করা হচ্ছে
  var profile = ((string CustomerName, string AccountNumber, decimal Balance))ViewBag.Profile;

  // rules object (BankingRulesOptions) viewbag থেকে নেওয়া
  var rules = ViewBag.Rules;

  // last10 list (transactions) dynamic হিসেবে নেওয়া
  var last10 = (IEnumerable<dynamic>)ViewBag.Last10;
}

<!-- Welcome message -->
<h3>Welcome, @profile.CustomerName</h3>

<div class="row">

  <!-- Left panel: account summary -->
  <div class="col-md-6">
    <div class="card card-body">
      <p><b>Account:</b> @profile.AccountNumber</p>

      <!-- balance show with currency symbol -->
      <p><b>Balance:</b> @rules.CurrencySymbol@profile.Balance</p>

      <!-- rules summary -->
      <p class="text-muted mb-0">
        Min Balance: @rules.CurrencySymbol@rules.MinimumBalance |
        Daily Transfer Limit: @rules.CurrencySymbol@rules.DailyTransferLimit |
        TZ: @rules.TimeZoneId
      </p>

      <!-- PDF download link -->
      <a class="btn btn-outline-dark mt-3" href="/Banking/MiniStatementPdf">
        Download Mini Statement (PDF)
      </a>
    </div>
  </div>

  <!-- Right panel: actions forms -->
  <div class="col-md-6">
    <div class="card card-body">

      <!-- Deposit form -->
      <h5>Deposit</h5>
      <form method="post" action="/Banking/Deposit" class="d-flex gap-2">
        <!-- name="Amount" controller parameter binding এর জন্য -->
        <input class="form-control" name="Amount" placeholder="Amount" />
        <button class="btn btn-success" type="submit">Deposit</button>
      </form>

      <!-- Withdraw form -->
      <h5 class="mt-4">Withdraw</h5>
      <form method="post" action="/Banking/Withdraw" class="d-flex gap-2">
        <input class="form-control" name="Amount" placeholder="Amount" />
        <button class="btn btn-warning" type="submit">Withdraw</button>
      </form>

      <!-- Transfer form -->
      <h5 class="mt-4">Transfer</h5>
      <form method="post" action="/Banking/Transfer" class="row g-2">
        <div class="col-6">
          <input class="form-control" name="ToAccountNumber" placeholder="To (5-digit)" />
        </div>
        <div class="col-6">
          <input class="form-control" name="Amount" placeholder="Amount" />
        </div>
        <div class="col-12">
          <button class="btn btn-primary w-100" type="submit">Transfer</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Transactions table -->
<div class="card card-body mt-4">
  <h5>Last 10 Transactions (UTC stored; PDF shows Dhaka time)</h5>

  <table class="table table-sm table-striped">
    <thead>
      <tr>
        <th>UTC Time</th><th>Type</th><th>Amount</th><th>Balance After</th><th>Reference</th>
      </tr>
    </thead>

    <tbody>
    <!-- last10 loop করে rows print -->
    @foreach (var t in last10)
    {
      <tr>
        <td>@t.CreatedAtUtc</td>
        <td>@t.Type</td>
        <td>@rules.CurrencySymbol@t.Amount</td>
        <td>@rules.CurrencySymbol@t.BalanceAfter</td>
        <td>@t.Reference</td>
      </tr>
    }
    </tbody>
  </table>
</div>



<!-- =====================================================
     8.4 Admin views
     ===================================================== -->

<!--
ফাইল লোকেশন:
Views/Admin/Customers.cshtml
-->

@model IEnumerable<OnlineBanking.Domain.Entities.Customer>
@{ ViewData["Title"] = "Admin - Customers"; }

<h3>Customers</h3>

<!-- Customers list table -->
<table class="table table-sm table-striped">
  <thead>
    <tr>
      <th>Acc</th><th>Name</th><th>Email</th><th>City</th><th>Admin</th><th>LockedUntil(UTC)</th><th>Actions</th>
    </tr>
  </thead>

  <tbody>
  <!-- Model list loop -->
  @foreach (var c in Model)
  {
    <tr>
      <td>@c.AccountNumber</td>
      <td>@c.Name</td>
      <td>@c.Email</td>
      <td>@c.City</td>
      <td>@c.IsAdmin</td>
      <td>@c.LockedUntilUtc</td>

      <td>
        <!-- Toggle admin role form -->
        <form method="post" action="/Admin/SetAdmin" class="d-inline">
          <input type="hidden" name="accountNumber" value="@c.AccountNumber" />
          <!-- isAdmin toggle: true হলে false হবে, false হলে true হবে -->
          <input type="hidden" name="isAdmin" value="@(c.IsAdmin ? "false" : "true")" />
          <button class="btn btn-sm btn-outline-primary" type="submit">
            @(c.IsAdmin ? "Remove Admin" : "Make Admin")
          </button>
        </form>

        <!-- Lock 30 minutes -->
        <form method="post" action="/Admin/Lock" class="d-inline">
          <input type="hidden" name="accountNumber" value="@c.AccountNumber" />
          <input type="hidden" name="minutes" value="30" />
          <button class="btn btn-sm btn-outline-warning" type="submit">Lock 30m</button>
        </form>

        <!-- Unlock -->
        <form method="post" action="/Admin/Unlock" class="d-inline">
          <input type="hidden" name="accountNumber" value="@c.AccountNumber" />
          <button class="btn btn-sm btn-outline-success" type="submit">Unlock</button>
        </form>
      </td>
    </tr>
  }
  </tbody>
</table>

<!-- Reset password page link -->
<a class="btn btn-dark" href="/Admin/ResetPassword">Reset User Password</a>



<!--
ফাইল লোকেশন:
Views/Admin/ResetPassword.cshtml
-->

@model OnlineBanking.Web.Models.AdminResetPasswordVm
@{ ViewData["Title"] = "Admin - Reset Password"; }

<h3>Reset Password</h3>

<!-- Reset password form -->
<form method="post" class="card card-body col-md-6">
  <div asp-validation-summary="All" class="text-danger"></div>

  <label class="form-label">Account Number</label>
  <input class="form-control" asp-for="AccountNumber" />

  <label class="form-label mt-2">New Password</label>
  <!-- NOTE: type="password" দিলে UI তে hidden থাকবে -->
  <input class="form-control" asp-for="NewPassword" />

  <button class="btn btn-primary mt-3" type="submit">Reset</button>
</form>



<!--
ফাইল লোকেশন:
Views/Admin/Audit.cshtml
-->

@model IEnumerable<OnlineBanking.Domain.Entities.AuditLog>
@{ ViewData["Title"] = "Admin - Audit Logs"; }

<h3>Audit Logs (Latest)</h3>

<!-- Audit logs table -->
<table class="table table-sm table-striped">
  <thead>
    <tr>
      <th>UTC</th><th>Action</th><th>Actor</th><th>Target</th><th>IP</th><th>Message</th>
    </tr>
  </thead>

  <tbody>
  @foreach (var a in Model)
  {
    <tr>
      <td>@a.CreatedAtUtc</td>
      <td>@a.Action</td>
      <td>@a.ActorAccountNumber</td>
      <td>@a.TargetAccountNumber</td>
      <td>@a.Ip</td>
      <td>@a.Message</td>
    </tr>
  }
  </tbody>
</table>







```
