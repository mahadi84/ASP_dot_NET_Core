
=================================================================================================
‚úÖ Features' List + Table Mapping + Class/Service Mapping,   category-wise
=================================================================================================


## üîê 1) Authentication & User Management

### ‚úÖ Customer Registration

‡¶ï‡¶æ‡¶ú: 
Name, Email, City, Password ‡¶¶‡¶ø‡ßü‡ßá register ‚Üí ‡ß´ ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü Auto-generated 5-digit Account Number
* Email unique (duplicate ‡¶π‡¶≤‡ßá register ‡¶π‡¶¨‡ßá ‡¶®‡¶æ)
* Password BCrypt hash ‡¶π‡ßü‡ßá DB-‡¶§‡ßá store ‡¶π‡ßü

Tables (DB):
    -Customers (insert)
    -Accounts (insert, Balance=0)
    -AuditLogs (insert: REGISTER)

Classes/Services:
    - Controller: AccountController ‚Üí Register()
    - ViewModel: RegisterVm
    - Interface: IAuthService
    - Implementation: AuthService.RegisterAsync()
    - Domain Entities: Customer, Account, AuditLog
    - Helper: PasswordHasher.Hash()
    - Audit Helper: AuditWriter.WriteAsync("REGISTER",...)



### ‚úÖ 2) Customer Login + Lockout (‡¶≤‡¶ó‡¶á‡¶® + ‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°‡ßá ‡¶≤‡¶ï)

‡¶ï‡¶æ‡¶ú: 
* Login ‡¶π‡ßü Account Number + Password ‡¶¶‡¶ø‡ßü‡ßá  ‡ß´ ‡¶¨‡¶æ‡¶∞ ‡¶≠‡ßÅ‡¶≤ ‡¶π‡¶≤‡ßá ‡ßß‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü lock
    * 5 ‡¶¨‡¶æ‡¶∞ ‡¶≠‡ßÅ‡¶≤ password ‡¶¶‡¶ø‡¶≤‡ßá:
    * Account 15 ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø lock
    * Lock ‡¶•‡¶æ‡¶ï‡¶æ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡ßü login block ‡¶π‡ßü
    * Successful login ‡¶π‡¶≤‡ßá:
     * Failed login counter reset
* Cookie-based authentication
* Secure cookies:

  * HttpOnly
  * SameSite = Strict
  * Secure (HTTPS friendly)


Tables (DB):
    - Customers (read/update: FailedLoginCount, LockedUntilUtc)
    - AuditLogs (LOGIN_SUCCESS / LOGIN_FAIL / LOGIN_LOCKED / LOGIN_BLOCKED)

Classes/Services:
    - Controller: AccountController ‚Üí Login()
    - ViewModel: LoginVm
    - Interface: IAuthService
    - Implementation: AuthService.ValidateLoginAsync()
    - Domain Entity: Customer, AuditLog
    - Cookie Auth: Claims (CustomerId, AccountNumber, IsAdmin)

---

## üí∞ 2) Core Banking Features

### ‚úÖ Deposit Money

* Positive amount check
* Balance ‡¶¨‡¶æ‡ßú‡ßá
* Transaction table-‡¶è record ‡¶π‡ßü
* Audit log ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü

Tables (DB):
    - Accounts (Balance update +)
    - Transactions (insert: Deposit)
    - AuditLogs (insert: DEPOSIT)

Classes/Services:
    - Controller: BankingController ‚Üí Deposit()
    - ViewModel: AmountVm
    - Interface: IBankingService
    - Implementation: BankingService.DepositAsync()
    - Domain Entity: Account, Transaction, AuditLog
    - Audit: AuditWriter.WriteAsync("DEPOSIT",...)




### ‚úÖ Withdraw Money

* Balance sufficient ‡¶®‡¶æ ‡¶π‡¶≤‡ßá withdraw ‡¶π‡¶¨‡ßá ‡¶®‡¶æ
* Minimum Balance Rule enforced
* Transaction record ‡¶π‡ßü
* Audit log ‡¶π‡ßü


Tables (DB):
    - Accounts (Balance update -)
    - Transactions (insert: Withdraw)
    - AuditLogs (insert: WITHDRAW)

Classes/Services:
    - Controller: BankingController ‚Üí Withdraw()
    - ViewModel: AmountVm
    - Interface: IBankingService
    - Implementation: BankingService.WithdrawAsync()
    - Rule used: BankingRulesOptions.MinimumBalance
    - Domain Entity: Account, Transaction, AuditLog
    - Audit: AuditWriter.WriteAsync("WITHDRAW",...)




### ‚úÖ Transfer Money

* ‡¶è‡¶ï account ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø account-‡¶è transfer
* Same account-‡¶è transfer block
* Receiver account exist ‡¶®‡¶æ ‡¶ï‡¶∞‡¶≤‡ßá fail
* Daily Transfer Limit enforced
* Minimum balance after transfer enforce
* Sender ‚Üí TransferOut
* Receiver ‚Üí TransferIn
* Double transaction entry (ledger style)
* Audit log ‡¶π‡ßü (actor + target)


Tables (DB):
    -Customers (receiver account lookup)
    -Accounts (sender balance -, receiver balance +)
    -Transactions (insert 2 rows):
      - sender: TransferOut
      - receiver: TransferIn
    - AuditLogs (insert: TRANSFER)

Classes/Services:
    - Controller: BankingController ‚Üí Transfer()
    - ViewModel: TransferVm
    - Interface: IBankingService
    - Implementation: BankingService.TransferAsync()

Rules used:
    > BankingRulesOptions.DailyTransferLimit
    > BankingRulesOptions.MinimumBalance
    > Domain Entity: Customer, Account, Transaction, AuditLog
    > Audit: AuditWriter.WriteAsync("TRANSFER",...)



---

## üìÑ 3) Transaction History & Statement

### ‚úÖ Last 10 Transactions

* Dashboard-‡¶è last 10 transaction ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡ßü
* UTC time store ‡¶π‡ßü (DB)

Tables (DB):
    - Customers + Accounts (profile + balance read)
    - Transactions (last 10 read)
Classes/Services:
    - Controller: BankingController ‚Üí Dashboard()
    - Interface: IBankingService
    - Implementation: BankingService.GetProfileAsync(), GetLastTransactionsAsync()
    - Domain Entity: Transaction
    - View: Views/Banking/Dashboard.cshtml
    - Options/Rules: BankingRulesOptions (Currency, TimeZone, MinBalance, DailyLimit)


### ‚úÖ PDF Mini Statement

* Downloadable PDF
* Last 10 transactions
* Customer name, account number
* Current balance
* Asia/Dhaka time conversion
* Currency symbol configurable (‡ß≥ / ‚Ç¨ / $)

‡¶ï‡¶æ‡¶ú: last 10 transaction PDF download
Special: DB-‡¶§‡ßá time UTC, PDF-‡¶è Dhaka time convert + currency symbol

Tables (DB):
    - Customers + Accounts (customer name + account + balance read)
    - Transactions (last 10 read)

Classes/Services:
    - Controller: BankingController ‚Üí MiniStatementPdf()

Services:
    - IBankingService.GetProfileAsync()
    - IBankingService.GetLastTransactionsAsync()
    - IStatementPdfService.BuildMiniStatementPdf()
Implementation: StatementPdfService
Library: QuestPDF
Rules used:
BankingRulesOptions.TimeZoneId
BankingRulesOptions.CurrencySymbol
Domain Entity: Transaction




---

## üõ°Ô∏è 4) Security Features

* Password hashing (BCrypt)
* CSRF protection (Auto Anti-Forgery)
* Brute-force protection (lockout)
* Cookie hardening
* Secure headers:

  * X-Frame-Options
  * X-Content-Type-Options
  * CSP
* HTTPS ready (IIS friendly)

‡¶ï‡¶æ‡¶ú: ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü customer lock/unlock
Tables (DB):
    - Customers (update: LockedUntilUtc, FailedLoginCount)
    - AuditLogs (ADMIN_LOCK / ADMIN_UNLOCK)
Classes/Services:
    - Controller: AdminController ‚Üí Lock(), Unlock()
    - Interface: IAdminService
    - Implementation: AdminService.LockAsync(), UnlockAsync()
    - Domain Entity: Customer, AuditLog
    - Audit: AuditWriter

---

## üë®‚Äçüíº 5) Admin Panel (Role Based)

### ‚úÖ Admin Account (Auto-seeded)

* First run ‡¶è admin auto create ‡¶π‡ßü
* Console-‡¶è admin account number ‡¶¶‡ßá‡¶ñ‡¶æ‡ßü

Tables (DB):
    -Customers (read all)
Classes/Services:
    - Controller: AdminController ‚Üí Customers()
    - Authorization: [Authorize(Policy="AdminOnly")]
    - Interface: IAdminService
    - Implementation: AdminService.GetCustomersAsync()
    - View: Views/Admin/Customers.cshtml
    - Domain Entity: Customer

### ‚úÖ Admin Functionalities

* All customers list view
* Make / Remove Admin
* Lock customer account (manual)
* Unlock customer account
* Reset customer password
* View full Audit Logs



‡¶ï‡¶æ‡¶ú: customer ‡¶ï‡ßá admin ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã/‡¶∏‡¶∞‡¶æ‡¶®‡ßã
Tables (DB):
    - Customers (update: IsAdmin)
    - AuditLogs (ADMIN_SET_ROLE)
Classes/Services:
    - Controller: AdminController ‚Üí SetAdmin()
    - Interface: IAdminService
    - Implementation: AdminService.SetAdminAsync()
    - Domain Entity: Customer, AuditLog
    - Audit: AuditWriter

‡¶ï‡¶æ‡¶ú: admin user-‡¶è‡¶∞ password reset ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá
Tables (DB):
    - Customers (update: PasswordHash + unlock fields reset)
    - AuditLogs (ADMIN_RESET_PASSWORD)

Classes/Services:
    - Controller: AdminController ‚Üí ResetPassword(GET/POST)
    - ViewModel: AdminResetPasswordVm
    - Interface: IAdminService
    - Implementation: AdminService.ResetPasswordAsync()
    - Helper: PasswordHasher.Hash()
    - Domain Entity: Customer, AuditLog




---

## üßæ 6) Audit & Monitoring

### ‚úÖ Audit Logs (Real Banking Feature)

Every sensitive action record ‡¶π‡ßü:

* Register
* Login success / fail
* Account locked
* Deposit / Withdraw / Transfer
* Admin actions


‡¶ï‡¶æ‡¶ú: system ‡¶ï‡ßá ‡¶ï‡¶ñ‡¶® ‡¶ï‡ßÄ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶æ
Tables (DB):
    - AuditLogs (read latest)

Classes/Services:
    - Controller: AdminController ‚Üí Audit()
    - Interface: IAdminService
    - Implementation: AdminService.GetLatestAuditAsync()
    - View: Views/Admin/Audit.cshtml
    - Domain Entity: AuditLog




Audit-‡¶è ‡¶•‡¶æ‡¶ï‡ßá:

* Action name
* Actor account number
* Target account number
* IP address
* User agent
* Timestamp




---

## üß± 7)  Configuration Based Rules

‡¶∏‡¶¨ rule `appsettings.json` ‡¶•‡ßá‡¶ï‡ßá control ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü:

* Currency symbol
* TimeZone
* Minimum balance
* Daily transfer limit
* Admin seed credentials

---

## üñ•Ô∏è 9) Deployment Ready (Windows Server)

* IIS compatible
* MySQL compatible
* HTTPS ready
* Production config friendly





