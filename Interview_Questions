

ЁЯза ржкрзНрж░рж╢рзНржи ржирж┐ржЬрзЗржХрзЗ

1. Controller ржХрзЗржи thin рж░рж╛ржЦрж╛ ржЙржЪрж┐ржд?
2. ржХрзЗржи Entity рж╕рж░рж╛рж╕рж░рж┐ API response рж╣рж┐рж╕рзЗржмрзЗ ржжрзЗржУрзЯрж╛ ржЙржЪрж┐ржд ржирж╛?
3. Repository-рждрзЗ business logic рж░рж╛ржЦрж╛ ржнрзБрж▓ ржХрзЗржи?
4. Async ржирж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ high traffic ржП ржХрзА рж╕ржорж╕рзНржпрж╛ рж╣рзЯ?
5. DB-рждрзЗ image рж░рж╛ржЦрж╛ ржЦрж╛рж░рж╛ржк ржХрзЗржи?
6. Validation Controller ржирж╛ Service-ржП ржХрзЗржи рж░рж╛ржЦрж╛ ржнрж╛рж▓рзЛ?
7. System Design- ржЖржорж┐ ржПржЗ system-ржЯрж╛ рзи ржмржЫрж░ ржкрж░ maintain ржХрж░рждрзЗ ржкрж╛рж░ржмрзЛ рждрзЛ?




рж╕ржм ржЙржжрж╛рж╣рж░ржг ASP.NET Core (.NET 8/9 compatible)ред

---

## 1я╕ПтГг Controller ржХрзЗржи thin рж░рж╛ржЦрж╛ ржЙржЪрж┐ржд? (ржЙржжрж╛рж╣рж░ржгрж╕рж╣)

### тЭМ ржнрзБрж▓ (Fat Controller)
public IActionResult Create(EmployeeDto dto)
{
    if (dto.Salary < 0)
        return BadRequest();

    var emp = new Employee { Name = dto.Name };
    _context.Employees.Add(emp);
    _context.SaveChanges();

    return Ok();
}
```

### тЬЕ рж╕ржарж┐ржХ (Thin Controller)
public IActionResult Create(EmployeeDto dto)
{
    _employeeService.CreateEmployee(dto);
    return Ok();
}
```

ЁЯФ╣ ржХрзЗржи?
Controller рж╢рзБржзрзБ request ржирзЗрзЯ ржУ response ржжрзЗрзЯ; business logic Service-ржП ржерж╛ржХрж▓рзЗ code clean ржУ testable рж╣рзЯред

---

## 2я╕ПтГг ржХрзЗржи Entity рж╕рж░рж╛рж╕рж░рж┐ API response рж╣рж┐рж╕рзЗржмрзЗ ржжрзЗржУрзЯрж╛ ржЙржЪрж┐ржд ржирж╛?

### тЭМ ржнрзБрж▓
public Employee GetEmployee(int id)
{
    return _context.Employees.Find(id);
}
```

(ржПрждрзЗ Salary, InternalId, PasswordHash ржмрзЗрж░ рж╣рждрзЗ ржкрж╛рж░рзЗ)

### тЬЕ рж╕ржарж┐ржХ (DTO ржмрзНржпржмрж╣рж╛рж░)
public EmployeeDto GetEmployee(int id)
{
    var emp = _context.Employees.Find(id);
    return new EmployeeDto { Name = emp.Name };
}
```

ЁЯФ╣ ржХрзЗржи?
Entity ржжрж┐рж▓рзЗ database structure ржУ sensitive data leak рж╣рждрзЗ ржкрж╛рж░рзЗред

---

## 3я╕ПтГг Repository-рждрзЗ business logic рж░рж╛ржЦрж╛ ржнрзБрж▓ ржХрзЗржи?

### тЭМ ржнрзБрж▓
public void AddEmployee(Employee emp)
{
    if (emp.Salary < 0)
        throw new Exception("Invalid salary");

    _context.Employees.Add(emp);
    _context.SaveChanges();
}
```

### тЬЕ рж╕ржарж┐ржХ
// Service
public void CreateEmployee(Employee emp)
{
    if (emp.Salary < 0)
        throw new Exception();

    _repo.Add(emp);
}
```

ЁЯФ╣ ржХрзЗржи?
Repository рж╢рзБржзрзБ DB access-ржПрж░ ржЬржирзНржп; business rule ржерж╛ржХрж▓рзЗ architecture ржнрзЗржЩрзЗ ржпрж╛рзЯред

---

## 4я╕ПтГг Async ржирж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ high traffic ржП ржХрзА рж╕ржорж╕рзНржпрж╛ рж╣рзЯ?

### тЭМ Sync (Problem)
public IActionResult GetAll()
{
    var data = _context.Employees.ToList(); // thread block
    return Ok(data);
}
```

### тЬЕ Async (Solution)
public async Task<IActionResult> GetAll()
{
    var data = await _context.Employees.ToListAsync();
    return Ok(data);
}
```

ЁЯФ╣ ржХрзЗржи?
Async ржирж╛ рж╣рж▓рзЗ thread block рж╣рзЯ тЖТ high traffic ржП server slow/crash ржХрж░рзЗред

---

## 5я╕ПтГг DB-рждрзЗ image рж░рж╛ржЦрж╛ ржЦрж╛рж░рж╛ржк ржХрзЗржи?

### тЭМ ржнрзБрж▓
public byte[] EmployeeImage { get; set; }
```

### тЬЕ рж╕ржарж┐ржХ
public string ImagePath { get; set; }
```

ЁЯФ╣ ржХрзЗржи?
DB-рждрзЗ image рж░рж╛ржЦрж▓рзЗ performance ржХржорзЗ, storage heavy рж╣рзЯ; file system + path ржЕржирзЗржХ efficientред

---

## 6я╕ПтГг Validation Controller ржирж╛ Service-ржП ржХрзЗржи рж░рж╛ржЦрж╛ ржнрж╛рж▓рзЛ?

### тЭМ Controller Validation
public IActionResult Create(EmployeeDto dto)
{
    if (dto.Name == null)
        return BadRequest();
}
```

### тЬЕ Service Validation
public void CreateEmployee(EmployeeDto dto)
{
    if (string.IsNullOrEmpty(dto.Name))
        throw new Exception("Name required");
}
```

ЁЯФ╣ ржХрзЗржи?
Service validation reuse ржХрж░рж╛ ржпрж╛рзЯ (API, background job, future feature)тАФController рж╢рзБржзрзБ entry pointред

---

# ЁЯза рзйрзж-рж╕рзЗржХрзЗржирзНржбрзЗ ржоржирзЗ рж░рж╛ржЦрж╛рж░ рж╢рж░рзНржЯ ржлрж░рзНржо

 Controller тЖТ Request/Response
 Service тЖТ Business rules
 Repository тЖТ Database
 Async тЖТ Scalability
 Image тЖТ File system
 Validation тЖТ Service


